<?xml version='1.0' encoding='utf-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" epub:prefix="z3998: http://www.daisy.org/z3998/2012/vocab/structure/#" lang="en" xml:lang="en">
  <head/>
  <body><p class="calibre_2">Look at your habits throughout the workday. Do you see any repetitive tasks? Do </p><p class="calibre_2">you type the same sequence of commands over and over again? </p><p class="calibre_2">Try writing a few shell scripts to automate the process. Do you always click on the </p><p class="calibre_2">same sequence of icons repeatedly? Can you create a macro to do all that for you? </p><p class="calibre_2">How much of your project paperwork can be automated? Given the high expense </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">of programming staff,[5]</span></span></a> determine how much of the project's budget is being wasted</p><p class="calibre_2">on administrative procedures. Can you justify the amount of time it would take to </p><p class="calibre_2">craft an automated solution based on the overall cost savings it would achieve? </p><p class="calibre_2">[5] For estimating purposes, you can figure an industry average of about US$100,000 per</p><p class="calibre_2">head—that's salary plus benefits, training, office space and overhead, and so on. </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00035.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00198.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Ruthless Testing</span></p><p class="calibre_2">Most developers hate testing. They tend to test gently, subconsciously knowing where the </p><p class="calibre_2">code will break and avoiding the weak spots. Pragmatic Programmers are different. We are </p><p class="calibre_2"><span class="italic">driven</span> to find our bugs <span class="italic">now, </span> so we don't have to endure the shame of others finding our </p><p class="calibre_2">bugs later. </p><p class="calibre_2">Finding bugs is somewhat like fishing with a net. We use fine, small nets (unit tests) to </p><p class="calibre_2">catch the minnows, and big, coarse nets (integration tests) to catch the killer sharks. </p><p class="calibre_2">Sometimes the fish manage to escape, so we patch any holes that we find, in hopes of </p><p class="calibre_2">catching more and more slippery defects that are swimming about in our project pool. </p><p class="calibre_2"><span class="bold">Tip 62</span></p><p class="calibre_2">Test Early. Test Often. Test Automatically. </p><p class="calibre_2">We want to start testing as soon as we have code. Those tiny minnows have a nasty habit </p><p class="calibre_2">of becoming giant, man-eating sharks pretty fast, and catching a shark is quite a bit harder. </p><p class="calibre_2">But we don't want to have to do all that testing by hand. </p><p class="calibre_2">Many teams develop elaborate test plans for their projects. Sometimes they will even use </p><p class="calibre_2">them. But we've found that teams that use automated tests have a much better chance of </p><p class="calibre_2">success. Tests that run with every build are much more effective than test plans that sit on </p><p class="calibre_2">a shelf. </p><p class="calibre_2">The earlier a bug is found, the cheaper it is to remedy. "Code a little, test a little" is a </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">popular saying in the Smalltalk world,[6] and we can adopt that mantra as our own b</span></span></a>y</p><p class="calibre_2">writing test code at the same time (or even before) we write the production code. </p><p class="calibre_2">[6] eXtreme Programming <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">[URL 45</span></span></a>] calls this concept "continuous Integration, relentless testing." </p><p class="calibre_2">In fact, a good project may well have <span class="italic">more</span> test code than production code. The time it </p><p class="calibre_2">takes to produce this test code is worth the effort. It ends up being much cheaper in the </p><p class="calibre_2">long run, and you actually stand a chance of producing a product with close to zero </p><p class="calibre_2">defects. </p><p class="calibre_2">Additionally, knowing that you've passed the test gives you a high degree of confidence </p><p class="calibre_2">that a piece of code is "done." </p><p class="calibre_2"><span class="bold">Tip 63</span></p><p class="calibre_2">Coding Ain't Done 'Til All the Tests Run</p><p class="calibre_2">Just because you have finished hacking out a piece of code doesn't mean you can go tell </p><p class="calibre_2">your boss or your client that it's <span class="italic">done. </span> It's not. First of all, code is never really done. More </p><p class="calibre_2">importantly, you can't claim that it is usable by anyone until it passes all of the available </p><p class="calibre_2">tests. </p><p class="calibre_2">We need to look at three main aspects of project-wide testing: what to test, how to test, and </p><p class="calibre_2">when to test. </p><p class="calibre_2"><span class="bold">What to Test</span></p><p class="calibre_2">There are several major types of software testing that you need to perform:</p><p class="calibre_2">Unit testing</p><p class="calibre_2">Integration testing</p><p class="calibre_2">Validation and verification</p><p class="calibre_2">Resource exhaustion, errors, and recovery</p><p class="calibre_2">Performance testing</p><p class="calibre_2">Usability testing</p><p class="calibre_2">This list is by no means complete, and some specialized projects will require various other </p><p class="calibre_2">types of testing as well. But it gives us a good starting point. </p><p class="calibre_2"><span class="bold">Unit Testing</span></p><p class="calibre_2">A <span class="italic">unit test</span> is code that exercises a module. We covered this topic by itself in <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Code That's </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Easy to Test. Unit testing is the foundation of all the other forms of testing that we'll discuss </span></span></a></p><p class="calibre_2">in this section. If the parts don't work by themselves, they probably won't work well </p><p class="calibre_2">together. All of the modules you are using must pass their own unit tests before you can </p><p class="calibre_2">proceed. </p><p class="calibre_2">Once all of the pertinent modules have passed their individual tests, you're ready for the </p><p class="calibre_2">next stage. You need to test how all the modules use and interact with each other </p><p class="calibre_2">throughout the system. </p><p class="calibre_2"><span class="bold">Integration Testing</span></p><p class="calibre_2"><span class="italic">Integration testing</span> shows that the major subsystems that make up the project work and </p><p class="calibre_2">play well with each other. With good contracts in place and well tested, any integration </p><p class="calibre_2">issues can be detected easily. Otherwise, integration becomes a fertile breeding ground for </p><p class="calibre_2">bugs. In fact, it is often the single largest source of bugs in the system. </p><p class="calibre_2">Integration testing is really just an extension of the unit testing we've described—only now</p><p class="calibre_2">you're testing how entire subsystems honor their contracts. </p><p class="calibre_2"><span class="bold">Validation and Verification</span></p><p class="calibre_2">As soon as you have an executable user interface or prototype, you need to answer an </p><p class="calibre_2">all-important question: the users told you what they wanted, but is it what they need? </p><p class="calibre_2">Does it meet the functional requirements of the system? This, too, needs to be tested. A </p><p class="calibre_2">bug-free system that answers the wrong question isn't very useful. Be conscious of </p><p class="calibre_2">end-user access patterns and how they differ from developer test data (for an example, </p><p class="calibre_2">see the story about brush strokes on page 92). </p><p class="calibre_2"><span class="bold">Resource Exhaustion, Errors, and Recovery</span></p><p class="calibre_2">Now that you have a pretty good idea that the system will behave correctly under ideal </p><p class="calibre_2">conditions, you need to discover how it will behave under <span class="italic">real-world</span> conditions. In the real </p><p class="calibre_2">world, your programs don't have limitless resources; they run out of things. A few limits </p><p class="calibre_2">your code may encounter include:</p><p class="calibre_2">Memory</p><p class="calibre_2">Disk space</p><p class="calibre_2">CPU bandwidth</p><p class="calibre_2">Wall-clock time</p><p class="calibre_2">Disk bandwidth</p><p class="calibre_2">Network bandwidth</p><p class="calibre_2">Color palette</p><p class="calibre_2">Video resolution</p><p class="calibre_2">You might actually check for disk space or memory allocation failures, but how often do </p><p class="calibre_2">you test for the others? Will your application fit on a 640 × 480 screen with 256 colors? Will</p><p class="calibre_2">it run on a 1600 × 1280 screen with 24-bit color without looking like a postage stamp? Will</p><p class="calibre_2">the batch job finish before the archive starts? </p><p class="calibre_2">You can detect environmental limitations, such as the video specifications, and adapt as </p><p class="calibre_2">appropriate. Not all failures are recoverable, however. If your code detects that memory </p><p class="calibre_2">has been exhausted, your options are limited: you may not have enough resources left to </p><p class="calibre_2">do anything except fail. </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">When the system does fail,[7] will it fail gracefully? Will it try, as best it can, to save its stat</span></span></a>e</p><p class="calibre_2">and prevent loss of work? Or will it "GPF" or "core-dump" in the user's face? </p><p class="calibre_2">[7] Our copy editor wanted us to change this sentence to " <span class="italic">If</span> the system does fail…." We resisted. </p><p class="calibre_2"><span class="bold">Performance Testing</span></p><p class="calibre_2">Performance testing, stress testing, or testing under load may be an important aspect of </p><p class="calibre_2">the project as well. </p><p class="calibre_2">Ask yourself if the software meets the performance requirements under real-world</p><p class="calibre_2">conditions—with the expected number of users, or connections, or transactions per</p><p class="calibre_2">second. Is it scalable? </p><p class="calibre_2">For some applications, you may need specialized testing hardware or software to simulate </p><p class="calibre_2">the load realistically. </p><p class="calibre_2"><span class="bold">Usability Testing</span></p><p class="calibre_2">Usability testing is different from the types of testing discussed so far. It is performed with </p><p class="calibre_2">real users, under real environmental conditions. </p><p class="calibre_2">Look at usability in terms of human factors. Were there any misunderstandings during </p><p class="calibre_2">requirements analysis that need to be addressed? Does the software fit the user like an </p><p class="calibre_2">extension of the hand? (Not only do we want our own tools to fit our hands, but we want </p><p class="calibre_2">the tools we create for users to fit their hands as well.)</p><p class="calibre_2">As with validation and verification, you need to perform usability testing as early as you </p><p class="calibre_2">can, while there is still time to make corrections. For larger projects, you may want to bring </p><p class="calibre_2">in human factors specialists. (If nothing else, it's fun to play with the one-way mirrors). </p><p class="calibre_2">Failure to meet usability criteria is just as big a bug as dividing by zero. </p><p class="calibre_2"><span class="bold">How to Test</span></p><p class="calibre_2">We've looked at <span class="italic">what</span> to test. Now we'll turn our attention to <span class="italic">how</span> to test, including:</p><p class="calibre_2">Regression testing</p><p class="calibre_2">Test data</p><p class="calibre_2">Exercising GUI systems</p><p class="calibre_2">Testing the tests</p><p class="calibre_2">Testing thoroughly</p><p class="calibre_2"><span class="bold">Design/Methodology Testing</span></p><p class="calibre_2">Can you test the design of the code itself and the methodology you used to build </p><p class="calibre_2">the software? After a fashion, yes you can. You do this by analyzing </p><p class="calibre_2"><span class="italic">metrics</span>—measurements of various aspects of the code. The simplest metric</p><p class="calibre_2">(and often the least interesting) is <span class="italic">lines</span> of <span class="italic">code</span>—how big is the code itself? </p><p class="calibre_2">There are a wide variety of other metrics you can use to examine code, </p><p class="calibre_2">including:</p><p class="calibre_2">McCabe Cyclomatic Complexity Metric (measures complexity of decision </p><p class="calibre_2">structures)</p><p class="calibre_2">Inheritance fan-in (number of base classes) and fan-out (number of </p><p class="calibre_2">derived modules using this one as a parent)</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Response set (see Decoupling and the Law of Demeter)</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Class coupling ratios (see [URL 48])</span></span></a></p><p class="calibre_2">Some metrics are designed to give you a "passing grade," while others are </p><p class="calibre_2">useful only by comparison. That is, you calculate these metrics for every module </p><p class="calibre_2">in the system and see how a particular module relates to its brethren. Standard </p><p class="calibre_2">statistical techniques (such as mean and standard deviation) are usually used </p><p class="calibre_2">here. </p><p class="calibre_2">If you find a module whose metrics are markedly different from all the rest, you </p><p class="calibre_2">need to ask yourself if that is appropriate. For some modules, it may be okay to </p><p class="calibre_2">"blow the curve." But for those that <span class="italic">don't</span> have a good excuse, it can indicate </p><p class="calibre_2">problems. </p><p class="calibre_2"><span class="bold">Regression Testing</span></p><p class="calibre_2">A regression test compares the output of the current test with previous (or known) values. </p><p class="calibre_2">We can ensure that bugs we fixed today didn't break things that were working yesterday. </p><p class="calibre_2">This is an important safety net, and it cuts down on unpleasant surprises. </p><p class="calibre_2">All of the tests we've mentioned so far can be run as regression tests, ensuring that we </p><p class="calibre_2">haven't lost any ground as we develop new code. We can run regressions to verify </p><p class="calibre_2">performance, contracts, validity, and so on. </p><p class="calibre_2"><span class="bold">Test Data</span></p><p class="calibre_2">Where do we get the data to run all these tests? There are only two kinds of data: </p><p class="calibre_2">real-world data and synthetic data. We actually need to use both, because the different </p><p class="calibre_2">natures of these kinds of data will expose different bugs in our software. </p><p class="calibre_2">Real-world data comes from some actual source. Possibly it has been collected from an </p><p class="calibre_2">existing system, a competitor's system, or a prototype of some sort. It represents typical </p><p class="calibre_2">user data. The big surprises come as you discover what <span class="italic">typical</span> means. This is most likely </p><p class="calibre_2">to reveal defects and misunderstandings in requirements analysis. </p><p class="calibre_2">Synthetic data is artificially generated, perhaps under certain statistical constraints. You </p><p class="calibre_2">may need to use synthetic data for any of the following reasons. </p><p class="calibre_2">You need a lot of data, possibly more than any real-world sample could provide. </p><p class="calibre_2">You might be able to use the real-world data as a seed to generate a larger sample </p><p class="calibre_2">set, and tweak certain fields that need to be unique. </p><p class="calibre_2">You need data to stress the boundary conditions. This data may be completely </p><p class="calibre_2">synthetic: date fields containing February 29, 1999, huge record sizes, or </p><p class="calibre_2">addresses with foreign postal codes. </p><p class="calibre_2">You need data that exhibits certain statistical properties. Want to see what happens </p><p class="calibre_2">if every third transaction fails? Remember the sort algorithm that slows to a crawl </p><p class="calibre_2">when handed presorted data? You can present data in random or sorted order to </p><p class="calibre_2">expose this kind of weakness. </p><p class="calibre_2"><span class="bold">Exercising GUI Systems</span></p><p class="calibre_2">Testing GUI-intensive systems often requires specialized testing tools. These tools may be </p><p class="calibre_2">based on a simple event capture/playback model, or they may require specially written </p><p class="calibre_2">scripts to drive the GUI. Some systems combine elements of both. </p><p class="calibre_2">Less sophisticated tools enforce a high degree of coupling between the version of software </p><p class="calibre_2">being tested and the test script itself: if you move a dialog box or make a button smaller, </p><p class="calibre_2">the test may not be able to find it, and may fall. Most modern GUI testing tools use a </p><p class="calibre_2">number of different techniques to get around this problem, and try to adjust to minor layout </p><p class="calibre_2">differences. </p><p class="calibre_2">However, you can't automate everything. Andy worked on a graphics system that allowed </p><p class="calibre_2">the user to create and display nondeterministic visual effects which simulated various </p><p class="calibre_2">natural phenomena. Unfortunately, during testing you couldn't just grab a bitmap and </p><p class="calibre_2">compare the output with a previous run, because it was designed to be different every </p><p class="calibre_2">time. For situations such as this one, you may have no choice but to rely on manual </p><p class="calibre_2">interpretation of test results. </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">One of the many advantages of writing decoupled code (see Decoupling and the Law of </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Demeter</span></span></a>) is more modular testing. For instance, for data processing applications that have </p><p class="calibre_2">a GUI front end, your design should be decoupled enough so that you can test the </p><p class="calibre_2">application logic <span class="italic">without</span> having a GUI present. This idea is similar to testing your </p><p class="calibre_2">subcomponents first. Once the application logic has been validated, it becomes easier to </p><p class="calibre_2">locate bugs that show up with the user interface in place (it's likely that the bugs were </p><p class="calibre_2">created by the user-interface code). </p><p class="calibre_2"><span class="bold">Testing the Tests</span></p><p class="calibre_2">Because we can't write perfect software, it follows that we can't write perfect test software </p><p class="calibre_2">either. We need to test the tests. </p><p class="calibre_2">Think of our set of test suites as an elaborate security system, designed to sound the alarm </p><p class="calibre_2">when a bug shows up. How better to test a security system than to try to break in? </p><p class="calibre_2">After you have written a test to detect a particular bug, <span class="italic">cause</span> the bug deliberately and </p><p class="calibre_2">make sure the test complains. This ensures that the test will catch the bug if it happens for </p><p class="calibre_2">real. </p><p class="calibre_2"><span class="bold">Tip 64</span></p><p class="calibre_2">Use Saboteurs to Test Your Testing</p><p class="calibre_2">If you are <span class="italic">really</span> serious about testing, you might want to appoint a <span class="italic">project saboteur. </span> The </p><p class="calibre_2">saboteur's role is to take a separate copy of the source tree, introduce bugs on purpose, </p><p class="calibre_2">and verify that the tests will catch them. </p><p class="calibre_2">When writing tests, make sure that alarms sound when they should. </p><p class="calibre_2"><span class="bold">Testing Thoroughly</span></p><p class="calibre_2">Once you are confident that your tests are correct, and are finding bugs you create, how do </p><p class="calibre_2">you know if you have tested the code base thoroughly enough? </p><p class="calibre_2">The short answer is "you don't," and you never will. But there are products on the market </p><p class="calibre_2">that can help. These <span class="italic">coverage analysis</span> tools watch your code during testing and keep </p><p class="calibre_2">track of which lines of code have been executed and which haven't. These tools help give </p><p class="calibre_2">you a general feel for how comprehensive your testing is, but don't expect to see 100% </p><p class="calibre_2">coverage. </p><p class="calibre_2">Even if you do happen to hit every line of code, that's not the whole picture. What is </p><p class="calibre_2">important is the number of states that your program may have. States are not equivalent to </p><p class="calibre_2">lines of code. For instance, suppose you have a function that takes two integers, each of </p><p class="calibre_2">which can be a number from 0 to 999. </p><p class="calibre_2"><span class="bold">int</span> test(<span class="bold">int</span> a, <span class="bold">int</span> b) {</p><p class="calibre_2"><span class="bold">return</span> a / (a + b); </p><p class="calibre_2">}</p><p class="calibre_2">In theory, this three-line function has 1,000,000 logical states, 999,999 of which will work </p><p class="calibre_2">correctly and one that will not (when a + b equals zero). Simply knowing that you executed</p><p class="calibre_2">this line of code doesn't tell you that—you would need to identify all possible states of the</p><p class="calibre_2">program. Unfortunately, in general this is a <span class="italic">really hard</span> problem. Hard as in, "The sun will </p><p class="calibre_2">be a cold hard lump before you can solve it." </p><p class="calibre_2"><span class="bold">Tip 65</span></p><p class="calibre_2">Test State Coverage, Not Code Coverage</p><p class="calibre_2">Even with good code coverage, the data you use for testing still has a huge impact, and, </p><p class="calibre_2">more importantly, the <span class="italic">order</span> in which you traverse code may have the largest impact of all. </p><p class="calibre_2"><span class="bold">When to Test</span></p><p class="calibre_2">Many projects tend to leave testing to the last minute—right where it will be cut against the</p><p class="calibre_2">sharp edge of a deadline<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">.[8]</span></span></a> We need to start much sooner than that. As soon as any</p><p class="calibre_2">production code exists, it needs to be tested. </p><p class="calibre_2">[8]</p><p class="calibre_2"><span class="bold">. </span></p><p class="calibre_2"><span class="bold">dead line</span> \ded-lîn\ <span class="italic">n</span> (1864) a line drawn within or around a prison that a prisoner passes at the risk of</p><p class="calibre_2">being shot— <span class="italic">Webster's Collegiate Dictionary. </span></p><p class="calibre_2">Most testing should be done automatically. It's important to note that by "automatically" we </p><p class="calibre_2">mean that the test <span class="italic">results</span><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline"> are interpreted automatically as well. See Ubiquitous </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Automation, for more on this subject. </span></span></a></p><p class="calibre_2">We like to test as frequently as we can, and always before we check code into the source </p><p class="calibre_2">repository. Some source code control systems, such as Aegis, can do this automatically. </p><p class="calibre_2">Otherwise, we just type</p><p class="calibre_2">% make test</p><p class="calibre_2">Usually, it isn't a problem to run regressions on all of the individual unit tests and </p><p class="calibre_2">integration tests as often as needed. </p><p class="calibre_2">But some tests may not be easily run on a such a frequent basis. Stress tests, for instance, </p><p class="calibre_2">may require special setup or equipment, and some hand holding. These tests may be run</p><p class="calibre_2">less often—weekly or monthly, perhaps. But it is important that they be run on a regular, </p><p class="calibre_2">scheduled basis. If it can't be done automatically, then make sure it appears on the</p><p class="calibre_2">schedule, with all the necessary resources allocated to the task. </p><p class="calibre_2"><span class="bold">Tightening the Net</span></p><p class="calibre_2">Finally, we'd like to reveal the single most important concept in testing. It is an obvious one, </p><p class="calibre_2">and virtually every textbook says to do it this way. But for some reason, most projects still </p><p class="calibre_2">do not. </p><p class="calibre_2">If a bug slips through the net of existing tests, you need to add a new test to trap it next </p><p class="calibre_2">time. </p><p class="calibre_2"><span class="bold">Tip 66</span></p><p class="calibre_2">Find Bugs Once</p><p class="calibre_2">Once a human tester finds a bug, it should be the <span class="italic">last</span> time a human tester finds that bug. </p><p class="calibre_2">The automated tests should be modified to check for that particular bug from then on, </p><p class="calibre_2">every time, with no exceptions, no matter how trivial, and no matter how much the </p><p class="calibre_2"><img class="calibre_6" src="images/00080.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00012.jpg"/></p><p class="calibre_2">developer complains and says, "Oh, that will never happen again." </p><p class="calibre_2">Because it will happen again. And we just don't have the time to go chasing after bugs that</p><p class="calibre_2">the automated tests could have found for us. We have to spend our time writing new</p><p class="calibre_2">code—and new bugs. </p><p class="calibre_2"><span class="bold">Related sections include:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The Cat Ate My Source Code</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Debugging</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Decoupling and the Law of Demeter</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Refactoring</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Code That's Easy to Test</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Ubiquitous Automation</span></span></a></p><p class="calibre_2"><span class="bold">Challenges</span></p><p class="calibre_2">Can you automatically test your project? Many teams are forced to answer "no." </p><p class="calibre_2">Why? Is it too hard to define the acceptable results? Won't this make it hard to </p><p class="calibre_2">prove to the sponsors that the project is "done"? </p><p class="calibre_2">Is it too hard to test the application logic independent of the GUI? What does this </p><p class="calibre_2">say about the GUI? About coupling? </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00288.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00164.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">It's All Writing</span></p><p class="calibre_2"><span class="italic">The palest ink is better than the best memory. </span></p><p class="calibre_2"><span class="bold">Chinese Proverb</span></p><p class="calibre_2">Typically, developers don't give much thought to documentation. At best it is an </p><p class="calibre_2">unfortunate necessity; at worst it is treated as a low-priority task in the hope that </p><p class="calibre_2">management will forget about it at the end of the project. </p><p class="calibre_2">Pragmatic Programmers embrace documentation as an integral part of the overall</p><p class="calibre_2">development process. Writing documentation can be made easier by not duplicating effort</p><p class="calibre_2">or wasting time, and by keeping documentation close at hand—in the code itself, if</p><p class="calibre_2">possible. </p><p class="calibre_2">These aren't exactly original or novel thoughts; the idea of wedding code and </p><p class="calibre_2">documentation appears in Donald Knuth's work on literate programming and in Sun's </p><p class="calibre_2">JavaDoc utility, among others. We want to downplay the dichotomy between code and </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">documentation, and instead treat them as two views of the same model (see It's Just a </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">View</span></span></a>). In fact, we want to go a little further and apply <span class="italic">all</span> of our pragmatic principles to </p><p class="calibre_2">documentation as well as to code. </p><p class="calibre_2"><span class="bold">Tip 67</span></p><p class="calibre_2">Treat English as Just Another Programming Language</p><p class="calibre_2">There are basically two kinds of documentation produced for a project: internal and</p><p class="calibre_2">external. Internal documentation includes source code comments, design and test</p><p class="calibre_2">documents, and so on. External documentation is anything shipped or published to the</p><p class="calibre_2">outside world, such as user manuals. But regardless of the intended audience, or the role</p><p class="calibre_2">of the writer (developer or technical writer), all documentation is a mirror of the code. If</p><p class="calibre_2">there's a discrepancy, the code is what matters—for better or worse. </p><p class="calibre_2"><span class="bold">Tip 68</span></p><p class="calibre_2">Build Documentation In, Don't Bolt It On</p><p class="calibre_2">We'll start with internal documentation. </p><p class="calibre_2"><span class="bold">Comments in Code</span></p><p class="calibre_2">Producing formatted documents from the comments and declarations in source code is </p><p class="calibre_2">fairly straightforward, but first we have to ensure that we actually <span class="italic">have</span> comments in the </p><p class="calibre_2">code. Code should have comments, but too many comments can be just as bad as too </p><p class="calibre_2">few. </p><p class="calibre_2">In general, comments should discuss <span class="italic">why</span> something is done, its purpose and its goal. The </p><p class="calibre_2">code already shows <span class="italic">how</span> it is done, so commenting on this is redundant—and is a violation</p><p class="calibre_2">of the <span class="italic">DRY</span> principle. </p><p class="calibre_2">Commenting source code gives you the perfect opportunity to document those elusive bits </p><p class="calibre_2">of a project that can't be documented anywhere else: engineering trade-offs, why decisions </p><p class="calibre_2">were made, what other alternatives were discarded, and so on. </p><p class="calibre_2">We like to see a <span class="italic">simple</span> module-level header comment, comments for significant data and </p><p class="calibre_2">type declarations, and a brief per-class and per-method header, describing how the </p><p class="calibre_2">function is used and anything that it does that is not obvious. </p><p class="calibre_2">Variable names, of course, should be well chosen and meaningful. foo, for instance, is </p><p class="calibre_2">meaningless, as is doit or manager or stuff. Hungarian notation (where you encode the </p><p class="calibre_2">variable's type information in the name itself) is utterly inappropriate in object-oriented </p><p class="calibre_2">systems. Remember that you (and others after you) will be <span class="italic">reading</span> the code many </p><p class="calibre_2">hundreds of times, but only <span class="italic">writing</span> it a few times. Take the time to spell out connectionPool</p><p class="calibre_2">instead of cp. </p><p class="calibre_2">Even worse than meaningless names are <span class="italic">misleading</span> names. Have you ever had someone </p><p class="calibre_2">explain inconsistencies in legacy code such as, "The routine called getData really writes</p><p class="calibre_2">data to disk"? The human brain will repeatedly foul this up—it's called the <span class="italic">Stroop Effect</span></p><p class="calibre_2"><span class="calibre_5"><span class="underline">[Str35</span></span>]. You can try the following experiment yourself to see the effects of such </p><p class="calibre_2">interference. Get some colored pens, and use them to write down the names of colors. </p><p class="calibre_2">However, never write a color name using that color pen. You could write the word "blue" in </p><p class="calibre_2">green, the word "brown" in red, and so on. (Alternatively, we have a sample set of colors </p><p class="calibre_2"><a href="http://www.pragmaticprogrammer.com/default.htm"><span class="calibre_5"><span class="underline">already drawn on our Web site at http://www.pragmaticprogrammer.com</span></span></a>.) Once you have </p><p class="calibre_2">the color names drawn, try to say aloud the color with which each word is drawn, as fast as </p><p class="calibre_2">you can. At some point you'll trip up and start reading the names of the colors, and not the </p><p class="calibre_2">colors themselves. Names are deeply meaningful to your brain, and misleading names add </p><p class="calibre_2">chaos to your code. </p><p class="calibre_2">You can document parameters, but ask yourself if it is really necessary in all cases. The </p><p class="calibre_2">level of comment suggested by the JavaDoc tool seems appropriate:</p><p class="calibre_2">/**</p><p class="calibre_2">* <span class="italic">Find the peak (highest) value within a specified date</span></p><p class="calibre_2">* <span class="italic">range of samples. </span></p><p class="calibre_2">*</p><p class="calibre_2">* <span class="italic">@param aRange Range of dates to search for data. </span></p><p class="calibre_2">* <span class="italic">@param aThreshold Minimum value to consider. </span></p><p class="calibre_2">* <span class="italic">@return the value, or &lt;code&gt;null&lt;/code&gt; if no value found</span></p><p class="calibre_2"><span class="italic">greater than or equal to the threshold. </span></p><p class="calibre_2">*/</p><p class="calibre_2"><span class="bold">public</span> Sample findPeak(DateRange aRange, <span class="bold">double</span> aThreshold); </p><p class="calibre_2">Here's a list of things that should not appear in source comments. </p><p class="calibre_2"><span class="bold">A list of the functions exported by code in the file. </span> There are programs that</p><p class="calibre_2">analyze source for you. Use them, and the list is guaranteed to be up to date. </p><p class="calibre_2"><span class="bold">Revision history. </span> This is what source code control systems are for (see<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline"> Source </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Code Control). However, it can be useful to include information on the date of last </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">change and the person who made it.[9]</span></span></a></p><p class="calibre_2">[9] This kind of information, as well as the filename, is provided by the RCS $Id$ tag. </p><p class="calibre_2"><span class="bold">A list of other files this file uses. </span> This can be determined more accurately</p><p class="calibre_2">using automatic tools. </p><p class="calibre_2"><span class="bold">The name of the file. </span> If it must appear in the file, don't maintain it by hand. RCS</p><p class="calibre_2">and similar systems can keep this information up to date automatically. If you move </p><p class="calibre_2">or rename the file, you don't want to have to remember to edit the header. </p><p class="calibre_2">One of the most important pieces of information that <span class="italic">should</span> appear in the source file is the</p><p class="calibre_2">author's name—not necessarily who edited the file last, but the owner. Attaching</p><p class="calibre_2">responsibility and accountability to source code does wonders in keeping people honest</p><p class="calibre_2">(see <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Pride and Prejudice</span></span></a>). </p><p class="calibre_2">The project may also require certain copyright notices or other legal boilerplate to appear in </p><p class="calibre_2">each source file. Get your editor to insert these for you automatically. </p><p class="calibre_2">With meaningful comments in place, tools such as JavaDoc [<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">URL 7] and DOC++ [</span></span></a><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">URL 21]</span></span></a></p><p class="calibre_2">can extract and format them to automatically produce API-level documentation. This is one</p><p class="calibre_2">specific example of a more general technique we use— <span class="italic">executable documents. </span></p><p class="calibre_2"><span class="bold">Executable Documents</span></p><p class="calibre_2">Suppose we have a specification that lists the columns in a database table. We'll then have </p><p class="calibre_2">a separate set of SQL commands to create the actual table in the database, and probably </p><p class="calibre_2">some kind of programming language record structure to hold the contents of a row in the </p><p class="calibre_2">table. The same information is repeated three times. Change any one of these three </p><p class="calibre_2">sources, and the other two are immediately out of date. This is a clear violation of the <span class="italic">DRY</span></p><p class="calibre_2">principle. </p><p class="calibre_2">To correct this problem, we need to choose the authoritative source of information. This </p><p class="calibre_2">may be the specification, it may be a database schema tool, or it may be some third source </p><p class="calibre_2">altogether. Let's choose the specification document as the source. It's now our <span class="italic">model</span> for </p><p class="calibre_2">this process. We then need to find a way to export the information it contains as different </p><p class="calibre_2"><span class="italic">views</span>—a database schema and a high-level language record, for example. <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">[10]</span></span></a></p><p class="calibre_2">[10] See<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline"> It's Just a View</span></span></a>, for more on models and views. </p><p class="calibre_2">If your document is stored as plain text with markup commands (using HTML, LaTeX, or </p><p class="calibre_2">troff, for example), then you can use tools such as Perl to extract the schema and reformat </p><p class="calibre_2">it automatically. If your document is in a word processor's binary format, then see the box </p><p class="calibre_2">on the following page for some options. </p><p class="calibre_2">Your document is now an integral part of the project development. The only way to change </p><p class="calibre_2">the schema is to change the document. You are guaranteeing that the specification, </p><p class="calibre_2">schema, and code all agree. You minimize the amount of work you have to do for each </p><p class="calibre_2">change, and you can update the views of the change automatically. </p><p class="calibre_2"><span class="bold">What if My Document Isn't Plain Text? </span></p><p class="calibre_2">Unfortunately, more and more project documents are now being written using </p><p class="calibre_2">world processors that store the file on disk in some proprietary format. We say </p><p class="calibre_2">"unfortunately" because this severely restricts your options to process the </p><p class="calibre_2">document automatically. However, you still have a couple of options:</p><p class="calibre_2"><span class="bold">Write macros. </span> Most sophisticated word processors now have a macro</p><p class="calibre_2">language. With some effort you can program them to export tagged </p><p class="calibre_2">sections of your documents into the alternative forms you need. If </p><p class="calibre_2">programming at this level is too painful, you could always export the </p><p class="calibre_2">appropriate section into a standard format plain text file, and then use a </p><p class="calibre_2">tool such as Perl to convert this into the final forms. </p><p class="calibre_2"><span class="bold">Make the document subordinate. </span> Rather than have the document</p><p class="calibre_2">as the definitive source, use another representation. (In the database </p><p class="calibre_2">example, you might want to use the schema as the authoritative </p><p class="calibre_2">information.) Then write a tool that exports this information into a form </p><p class="calibre_2">that the document can import. Be careful, however. You need to ensure </p><p class="calibre_2">that this information is imported every time the document is printed, </p><p class="calibre_2">rather than just once when the document is created. </p><p class="calibre_2">We can generate API-level documentation from source code using tools such as JavaDoc</p><p class="calibre_2">and DOC++ in a similar fashion. The model is the source code: one view of the model can</p><p class="calibre_2">be compiled; other views are meant to be printed out or viewed on the Web. Our goal is</p><p class="calibre_2">always to work on the model—whether the model is the code itself or some other</p><p class="calibre_2">document—and have all views updated automatically (see <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Ubiquitous Automation</span></span></a>, for </p><p class="calibre_2">more on automatic processes). </p><p class="calibre_2">Suddenly, documentation isn't so bad. </p><p class="calibre_2"><span class="bold">Technical Writers</span></p><p class="calibre_2">Up until now, we've talked only about internal documentation—written by the programmers</p><p class="calibre_2">themselves. But what happens when you have professional technical writers involved in the</p><p class="calibre_2">project? All too often, programmers just throw material "over the wall" to technical writers</p><p class="calibre_2">and let them fend for themselves to produce user manuals, promotional pieces, and so on. </p><p class="calibre_2">This is a mistake. Just because programmers aren't writing these documents doesn't mean</p><p class="calibre_2">that we can forsake pragmatic principles. We want the writers to embrace the same basic</p><p class="calibre_2">principles that a Pragmatic Programmer does—especially honoring the <span class="italic">DRY</span> principle, </p><p class="calibre_2">orthogonality, the model-view concept, and the use of automation and scripting. </p><p class="calibre_2"><span class="bold">Print It or Weave It</span></p><p class="calibre_2">One problem inherent with published, paper documentation is that it can become out of </p><p class="calibre_2">date as soon as it's printed. Documentation of any form is just a snapshot. </p><p class="calibre_2">So we try to produce all documentation in a form that can be published online, on the Web, </p><p class="calibre_2">complete with hyperlinks. It's easier to keep this view of the documentation up to date than </p><p class="calibre_2">to track down every existing paper copy, burn it, and reprint and redistribute new copies. </p><p class="calibre_2">It's also a better way to address the needs of a wide audience. Remember, though, to put </p><p class="calibre_2">a date stamp or version number on each Web page. This way the reader can get a good </p><p class="calibre_2">idea of what's up to date, what's changed recently, and what hasn't. </p><p class="calibre_2">Many times you need to present the same documentation in different formats: a printed </p><p class="calibre_2">document, Web pages, online help, or perhaps a slide show. The typical solution relies </p><p class="calibre_2">heavily on cut-and-paste, creating a number of new independent documents from the </p><p class="calibre_2">original. This is a bad idea: a document's presentation should be independent of its </p><p class="calibre_2">content. </p><p class="calibre_2">If you are using a markup system, you have the flexibility to implement as many different </p><p class="calibre_2">output formats as you need. You can choose to have</p><p class="calibre_2">&lt;H1&gt; <span class="italic">Chapter Title</span>&lt;/H1&gt; </p><p class="calibre_2">generate a new chapter in the report version of the document and title a new slide in the </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">slide show. Technologies such as XSL and CSS[11] can be used to generate multiple outpu</span></span></a>t</p><p class="calibre_2">formats from this one markup. </p><p class="calibre_2">[11] eXtensible Style Language and Cascading Style Sheets, two technologies designed to help separate</p><p class="calibre_2">presentation from content. </p><p class="calibre_2">If you are using a word processor, you'll probably have similar capabilities. If you </p><p class="calibre_2">remembered to use styles to identify different document elements, then by applying </p><p class="calibre_2"><img class="calibre_35" src="images/00283.jpg"/></p><p class="calibre_2">different style sheets you can drastically alter the look of the final output. Most word </p><p class="calibre_2">processors now allow you to convert your document to formats such as HTML for Web </p><p class="calibre_2">publishing. </p><p class="calibre_2"><span class="bold">Markup Languages</span></p><p class="calibre_2">Finally, for large-scale documentation projects, we recommend looking at some of the </p><p class="calibre_2">more modern schemes for marking up documentation. </p><p class="calibre_2">Many technical authors now use DocBook to define their documents. DocBook is an </p><p class="calibre_2">SGML-based markup standard that carefully identifies every component in a document. </p><p class="calibre_2">The document can be passed through a DSSSL processor to render it into any number of </p><p class="calibre_2">different formats. The Linux documentation project uses DocBook to publish information in </p><p class="calibre_2">RTF, </p><p class="calibre_2">, info, PostScript, and HTML formats. </p><p class="calibre_2">As long as your original markup is rich enough to express all the concepts you need</p><p class="calibre_2">(including hyperlinks), translation to any other pub-lishable form can be both easy and</p><p class="calibre_2">automatic. You can produce online help, published manuals, product highlights for the Web</p><p class="calibre_2">site, and even a tip-a-day calendar, all from the same source—which of course is under</p><p class="calibre_2">source control and is built along with the nightly build (see<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline"> Ubiquitous Automation). </span></span></a></p><p class="calibre_2">Documentation and code are different views of the same underlying model, but the view is </p><p class="calibre_2"><span class="italic">all</span> that should be different. Don't let documentation become a second-class citizen, </p><p class="calibre_2">banished from the main project workflow. Treat documentation with the same care you </p><p class="calibre_2">treat code, and the users (and maintainers who follow) will sing your praises. </p><p class="calibre_2"><span class="bold">Related sections include:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The Evils of Duplication</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Orthogonality</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The Power of Plain Text</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Source Code Control</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">It's Just a View</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Programming by Coincidence</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00048.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00304.jpg"/></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The Requirements Pit</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Ubiquitous Automation</span></span></a></p><p class="calibre_2"><span class="bold">Challenges</span></p><p class="calibre_2">Did you write an explanatory comment for the source code you just wrote? Why</p><p class="calibre_2">not? Pressed for time? Not sure if the code will really work—are you just trying out</p><p class="calibre_2">an idea as a prototype? You'll throw the code away afterwards, right? It won't make</p><p class="calibre_2">it into the project uncommented and experimental, will it? </p><p class="calibre_2">Sometimes it is uncomfortable to document the design of source code because the </p><p class="calibre_2">design isn't clear in your mind; it's still evolving. You don't feel that you should </p><p class="calibre_2">waste effort describing what something does until it actually does it. Does this </p><p class="calibre_2">sound like programming by coincidence (page 172)? </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00127.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00166.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Great Expectations</span></p><p class="calibre_2"><span class="italic">Be astonished, O ye heavens, at this, and be horribly afraid…</span></p><p class="calibre_2"><span class="bold">Jeremiah 2:12</span></p><p class="calibre_2">A company announces record profits, and its share price drops 20%. The financial news</p><p class="calibre_2">that night explains that the company failed to meet analysts' expectations. A child opens an</p><p class="calibre_2">expensive Christmas present and bursts into tears—it wasn't the cheap doll the child was</p><p class="calibre_2">hoping for. A project team works miracles to implement a phenomenally complex</p><p class="calibre_2">application, only to have it shunned by its users because it doesn't have a help system. </p><p class="calibre_2">In an abstract sense, an application is successful if it correctly implements its </p><p class="calibre_2">specifications. Unfortunately, this pays only abstract bills. </p><p class="calibre_2">In reality, the success of a project is measured by how well it meets the <span class="italic">expectations</span> of its </p><p class="calibre_2">users. A project that falls below their expectations is deemed a failure, no matter how good </p><p class="calibre_2">the deliverable is in absolute terms. However, like the parent of the child expecting the </p><p class="calibre_2">cheap doll, go too far and you'll be a failure, too. </p><p class="calibre_2"><span class="bold">Tip 69</span></p><p class="calibre_2">Gently Exceed Your Users' Expectations</p><p class="calibre_2">However, the execution of this tip requires some work. </p><p class="calibre_2"><span class="bold">Communicating Expectations</span></p><p class="calibre_2">Users initially come to you with some vision of what they want. It may be incomplete, </p><p class="calibre_2">inconsistent, or technically impossible, but it is <span class="italic">theirs, </span> and, like the child at Christmas, they </p><p class="calibre_2">have some emotion invested in it. You cannot just ignore it. </p><p class="calibre_2">As your understanding of their needs develops, you'll find areas where their expectations </p><p class="calibre_2">cannot be met, or where their expectations are perhaps too conservative. Part of your role </p><p class="calibre_2">is to communicate this. Work with your users so that their understanding of what you'll be </p><p class="calibre_2">delivering is accurate. And do this throughout the development process. Never lose sight of </p><p class="calibre_2">the business problems your application is intended to solve. </p><p class="calibre_2">Some consultants call this process "managing expectations"—actively controlling what</p><p class="calibre_2">users should hope to get from their systems. We think this is a somewhat elitist position. </p><p class="calibre_2">Our role is not to control the hopes of our users. Instead, we need to work with them to</p><p class="calibre_2">come to a common understanding of the development process and the final deliverable, </p><p class="calibre_2">along with those expectations they have not yet verbalized. If the team is communicating</p><p class="calibre_2">fluently with the outside world, this process is almost automatic; everyone should</p><p class="calibre_2">understand what's expected and how it will be built. </p><p class="calibre_2">There are some important techniques that can be used to facilitate this process. Of these, </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Tracer Bullets</span></span></a><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">, and Prototypes and Post-it Notes, are the most important. Both let the team </span></span></a></p><p class="calibre_2">construct something that the user can see. Both are ideal ways of communicating your </p><p class="calibre_2">understanding of their requirements. And both let you and your users practice </p><p class="calibre_2">communicating with each other. </p><p class="calibre_2"><span class="bold">The Extra Mile</span></p><p class="calibre_2">If you work closely with your users, sharing their expectations and communicating what </p><p class="calibre_2">you're doing, then there will be few surprises when the project gets delivered. </p><p class="calibre_2">This is a BAD THING. Try to surprise your users. Not scare them, mind you, but <span class="italic">delight</span></p><p class="calibre_2">them. </p><p class="calibre_2">Give them that little bit more than they were expecting. The extra bit of effort it requires to </p><p class="calibre_2">add some user-oriented feature to the system will pay for itself time and time again in </p><p class="calibre_2">goodwill. </p><p class="calibre_2">Listen to your users as the project progresses for clues about what features would really </p><p class="calibre_2">delight them. Some things you can add relatively easily that look good to the average user </p><p class="calibre_2">include:</p><p class="calibre_2">Balloon or ToolTip help</p><p class="calibre_2">Keyboard shortcuts</p><p class="calibre_2">A quick reference guide as a supplement to the user's manual</p><p class="calibre_2"><img class="calibre_6" src="images/00248.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00117.jpg"/></p><p class="calibre_2">Colorization</p><p class="calibre_2">Log file analyzers</p><p class="calibre_2">Automated installation</p><p class="calibre_2">Tools for checking the integrity of the system</p><p class="calibre_2">The ability to run multiple versions of the system for training</p><p class="calibre_2">A splash screen customized for their organization</p><p class="calibre_2">All of these things are relatively superficial, and don't really overburden the system with </p><p class="calibre_2">feature bloat. However, each tells your users that the development team cared about </p><p class="calibre_2">producing a great system, one that was intended for real use. Just remember not to break </p><p class="calibre_2">the system adding these new features. </p><p class="calibre_2"><span class="bold">Related sections include:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Good-Enough Software</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Tracer Bullets</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Prototypes and Post-it Notes</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The Requirements Pit</span></span></a></p><p class="calibre_2"><span class="bold">Challenges</span></p><p class="calibre_2">Sometimes the toughest critics of a project are the people who worked on it. Have </p><p class="calibre_2">you ever experienced disappointment that your own expectations weren't met by </p><p class="calibre_2">something you produced? How could that be? Maybe there's more than logic at </p><p class="calibre_2">work here. </p><p class="calibre_2">What do your users comment on when you deliver software? Is their attention to </p><p class="calibre_2">the various areas of the application proportional to the effort you invested in each? </p><p class="calibre_2">What delights them? </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00058.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00076.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Pride and Prejudice</span></p><p class="calibre_2"><span class="italic">You have delighted us long enough. </span></p><p class="calibre_2"><span class="bold">Jane Austen, </span><span class="italic"><span class="bold">Pride and Prejudice</span></span></p><p class="calibre_2">Pragmatic Programmers don't shirk from responsibility. Instead, we rejoice in accepting </p><p class="calibre_2">challenges and in making our expertise well known. If we are responsible for a design, or a </p><p class="calibre_2">piece of code, we do a job we can be proud of. </p><p class="calibre_2"><span class="bold">Tip 70</span></p><p class="calibre_2">Sign Your Work</p><p class="calibre_2">Craftsmen of an earlier age were proud to sign their work. You should be, too. </p><p class="calibre_2">Project teams are still made up of people, however, and this rule can cause trouble. On </p><p class="calibre_2">some projects, the idea of <span class="italic">code ownership</span> can cause cooperation problems. People may </p><p class="calibre_2">become territorial, or unwilling to work on common foundation elements. The project may </p><p class="calibre_2">end up like a bunch of insular little fiefdoms. You become prejudiced in favor of your code </p><p class="calibre_2">and against your coworkers. </p><p class="calibre_2">That's not what we want. You shouldn't jealously defend your code against interlopers; by </p><p class="calibre_2">the same token, you should treat other people's code with respect. The Golden Rule ("Do </p><p class="calibre_2">unto others as you would have them do unto you") and a foundation of mutual respect </p><p class="calibre_2">among the developers is critical to make this tip work. </p><p class="calibre_2">Anonymity, especially on large projects, can provide a breeding ground for sloppiness, </p><p class="calibre_2">mistakes, sloth, and bad code. It becomes too easy to see yourself as just a cog in the </p><p class="calibre_2">wheel, producing lame excuses in endless status reports instead of good code. </p><p class="calibre_2">While code must be owned, it doesn't have to be owned by an individual. In fact, Kent </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Beck's successful eXtreme Programming method [URL 45] recommends communal </span></span></a></p><p class="calibre_2">ownership of code (but this also requires additional practices, such as pair programming, to </p><p class="calibre_2"><img class="calibre_6" src="images/00158.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00184.jpg"/></p><p class="calibre_2">guard against the dangers of anonymity). </p><p class="calibre_2">We want to see pride of ownership. "I wrote this, and I stand behind my work." Your </p><p class="calibre_2">signature should come to be recognized as an indicator of quality. People should see your </p><p class="calibre_2">name on a piece of code and expect it to be solid, well written, tested, and documented. A </p><p class="calibre_2">really professional job. Written by a real professional. </p><p class="calibre_2">A Pragmatic Programmer. </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00238.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00081.jpg"/></p><p class="calibre_2"><img class="calibre_6" src="images/00057.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00046.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Appendix A. Resources</span></p><p class="calibre_2">The only reason we were able to cover so much ground in this book is that we viewed </p><p class="calibre_2">many of our subjects from a high altitude. If we'd given them the in-depth coverage they </p><p class="calibre_2">deserved, the book would have been ten times longer. </p><p class="calibre_2">We started the book with the suggestion that Pragmatic Programmers should always be </p><p class="calibre_2">learning. In this appendix we've listed resources that may help you with this process. </p><p class="calibre_2">In the section <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Professional Societies, we give details of the IEEE and the ACM. We </span></span></a></p><p class="calibre_2">recommend that Pragmatic Programmers join one (or both) of these societies. Then, in </p><p class="calibre_2"><span class="italic">Building a Library, </span> we highlight periodicals, books, and Web sites that we feel contain </p><p class="calibre_2">high-quality and pertinent information (or that are just plain fun). </p><p class="calibre_2">Throughout the book we referenced many software resources accessible via the Internet. </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">In the Internet Resources</span></span></a> section, we list the URLs of these resources, along with a short </p><p class="calibre_2">description of each. However, the nature of the Web means that many of these links may </p><p class="calibre_2">well be stale by the time you read this book. You could try one of the many search engines </p><p class="calibre_2">for a more up-to-date link, or visit our Web site at <a href="http://www.pragmaticprogrammer.com/default.htm"><span class="calibre_5"><span class="underline">www.pragmaticprogrammer.com</span></span></a> and </p><p class="calibre_2">check our links section. </p><p class="calibre_2">Finally, this appendix contains the book's bibliography. </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00091.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00210.jpg"/></p><p class="calibre_2"><img class="calibre_6" src="images/00094.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00247.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Professional Societies</span></p><p class="calibre_2">There are two world-class professional societies for programmers: the Association for </p><p class="calibre_2">Computing Machinery (ACM)<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">[1]</span></span></a> and the IEEE Computer Society<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">.[2] We recommend that al</span></span></a>l</p><p class="calibre_2">programmers belong to one (or both) of these societies. In addition, developers outside the </p><p class="calibre_2">United States may want to join their national societies, such as the BCS in the United </p><p class="calibre_2">Kingdom. </p><p class="calibre_2">[1] ACM Member Services, PO Box 11414, New York, NY 10286, USA. </p><p class="calibre_2"><a href="http://www.acm.org/default.htm"><span class="calibre_5"><span class="underline">www.acm.org</span></span></a></p><p class="calibre_2">[2] 1730 Massachusetts Avenue NW, Washington, DC 20036-1992, USA. </p><p class="calibre_2"><a href="http://www.computer.org/default.htm"><span class="calibre_5"><span class="underline">www.computer.org</span></span></a></p><p class="calibre_2">Membership in a professional society has many benefits. The conferences and local </p><p class="calibre_2">meetings give you great opportunities to meet people with similar interests, and the special </p><p class="calibre_2">interest groups and technical committees give you the opportunity to participate in setting </p><p class="calibre_2">standards and guidelines used around the world. You'll also get a lot out of their </p><p class="calibre_2">publications, from high-level discussions of industry practice to low-level computing theory. </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00188.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00267.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Building a Library</span></p><p class="calibre_2">We're big on reading. As we noted in <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Your Knowledge Portfolio</span></span></a>, a good programmer is </p><p class="calibre_2">always learning. Keeping current with books and periodicals can help. Here are some that </p><p class="calibre_2">we like. </p><p class="calibre_2"><span class="bold">Periodicals</span></p><p class="calibre_2">If you're like us, you'll save old magazines and periodicals until they're piled high enough to </p><p class="calibre_2">turn the bottom ones to flat sheets of diamond. This means it's worth being fairly selective. </p><p class="calibre_2">Here are a few periodicals we read. </p><p class="calibre_2"><span class="bold">IEEE Computer. </span> Sent to members of the IEEE Computer Society, <span class="italic">Computer</span></p><p class="calibre_2">has a practical focus but is not afraid of theory. Some issues are oriented around a </p><p class="calibre_2">theme, while others are simply collections of interesting articles. This magazine has </p><p class="calibre_2">a good signal-to-noise ratio. </p><p class="calibre_2"><span class="bold">IEEE Software. </span> This is another great bimonthly publication of the IEEE Computer</p><p class="calibre_2">Society aimed at software practitioners. </p><p class="calibre_2"><span class="bold">Communications of the ACM. </span> The basic magazine received by all members of</p><p class="calibre_2">the ACM, <span class="italic">CACM</span> has been a standard in the industry for decades, and has </p><p class="calibre_2">probably published more seminal articles than any other source. </p><p class="calibre_2"><span class="bold">SIGPLAN. </span> Produced by the ACM Special Interest Group on Programming</p><p class="calibre_2">Languages, <span class="italic">SIGPLAN</span> is an optional addition to your ACM membership. It is often </p><p class="calibre_2">used for publishing language specifications, along with articles of interest to </p><p class="calibre_2">everyone who likes looking deeply into programming. </p><p class="calibre_2"><span class="bold">Dr. Dobbs Journal. </span> A monthly magazine, available by subscription and on</p><p class="calibre_2">newsstands, <span class="italic">Dr. Dobbs</span> is quirky, but has articles ranging from bit-level practice to </p><p class="calibre_2">heavy theory. </p><p class="calibre_2"><span class="bold">The Perl Journal. </span> If you like Perl, you should probably subscribe to <span class="italic">The Perl </span></p><p class="calibre_2"><span class="italic">Journal</span><a href="http://www.tpj.com/default.htm"><span class="calibre_5"><span class="underline"> (www.tpj.com</span></span></a>). </p><p class="calibre_2"><span class="bold">Software Development Magazine. </span> A monthly magazine focusing on general</p><p class="calibre_2">issues of project management and software development. </p><p class="calibre_2"><span class="bold">Weekly Trade Papers</span></p><p class="calibre_2">There are several weekly newspapers published for developers and their managers. These</p><p class="calibre_2">papers are largely a collection of company press releases, redressed as articles. However, </p><p class="calibre_2">the content is still valuable—it lets you track what is going on, keep abreast of new product</p><p class="calibre_2">announcements, and follow industry alliances as they are forged and broken. Don't expect</p><p class="calibre_2">a lot of in-depth technical coverage, though. </p><p class="calibre_2"><span class="bold">Books</span></p><p class="calibre_2">Computing books can be expensive, but choose carefully and they're a worthwhile </p><p class="calibre_2">investment. Here are a handful of the many we like. </p><p class="calibre_2"><span class="bold">Analysis and Design</span></p><p class="calibre_2"><span class="bold">Object-Oriented Software Construction, 2nd Edition. </span> Bertrand Meyer's epic</p><p class="calibre_2">book on the fundamentals of object-oriented development, all in about 1,300 pages </p><p class="calibre_2"><span class="calibre_5"><span class="underline">[Mey97b</span></span>]. </p><p class="calibre_2"><span class="bold">Design Patterns. </span> A design pattern describes a way to solve a particular class of</p><p class="calibre_2">problems at a higher level than a programming language idiom. This now-classic </p><p class="calibre_2">book [<span class="calibre_5"><span class="underline">GHJV95</span></span>] by the <span class="italic">Gang of Four</span> describes 23 basic design patterns, including </p><p class="calibre_2">Proxy, Visitor, and Singleton. </p><p class="calibre_2"><span class="bold">Analysis Patterns. </span> A treasure trove of high-level, architectural patterns taken</p><p class="calibre_2">from a wide variety of real-world projects and distilled in book form. A relatively </p><p class="calibre_2"><span class="calibre_5"><span class="underline">quick way to gain the insight of many years of modeling experience [Fow96</span></span>]. </p><p class="calibre_2"><span class="bold">Teams and Projects</span></p><p class="calibre_2"><span class="bold">The Mythical Man Month. </span> Fred Brooks' classic on the perils of organizing</p><p class="calibre_2"><span class="calibre_5"><span class="underline">project teams, recently updated [Bro95</span></span>]. </p><p class="calibre_2"><span class="bold">Dynamics of Software Development. </span> A series of short essays on building</p><p class="calibre_2">software in large teams, focusing on the dynamics between team members, and </p><p class="calibre_2"><span class="calibre_5"><span class="underline">between the team and the rest of the world [McC95</span></span>]. </p><p class="calibre_2"><span class="bold">Surviving Object-Oriented Projects: A Manager's Guide. </span> Alistair</p><p class="calibre_2">Cockburn's "reports from the trenches" illustrate many of the perils and pitfalls of</p><p class="calibre_2">managing an OO project— especially your first one. Mr. Cockburn provides tips</p><p class="calibre_2">and techniques to get you through the most common problems <span class="calibre_5"><span class="underline">[Coc97b</span></span>]. </p><p class="calibre_2"><span class="bold">Specific Environments</span></p><p class="calibre_2"><span class="bold">Unix. </span> W. Richard Stevens has several excellent books including <span class="italic">Advanced </span></p><p class="calibre_2"><span class="italic">Programming in the Unix Environment</span> and the <span class="italic">Unix Network Programming </span></p><p class="calibre_2"><span class="italic">books</span><span class="calibre_5"><span class="underline"> [Ste92, Ste98, Ste99]</span></span>. </p><p class="calibre_2"><span class="bold">Windows. </span> Marshall Brain's <span class="italic">Win32 System Services</span><span class="calibre_5"><span class="underline"> [Bra95] is a concise </span></span></p><p class="calibre_2">reference to the low-level APIs. Charles Petzold's <span class="italic">Programming Windows</span><span class="calibre_5"><span class="underline"> [Pet98</span></span>] </p><p class="calibre_2">is the bible of Windows GUI development. </p><p class="calibre_2"><span class="bold">C++. </span> As soon as you find yourself on a C++ project, run, don't walk, to the</p><p class="calibre_2">bookstore and get Scott Meyer's <span class="italic">Effective C++, </span> and possibly <span class="italic">More Effective C++</span></p><p class="calibre_2"><span class="calibre_5"><span class="underline">[Mey97a</span></span>, <span class="calibre_5"><span class="underline">Mey96]. For building systems of any appreciable size, you need John </span></span></p><p class="calibre_2">Lakos' Large-Scale C++ <span class="italic">Software Design</span><span class="calibre_5"><span class="underline"> [Lak96</span></span>]. For advanced techniques, turn </p><p class="calibre_2">to Jim Coplien's <span class="italic">Advanced C++ Programming Styles and Idioms</span><span class="calibre_5"><span class="underline"> [Cop92</span></span>], </p><p class="calibre_2">In addition, the O'Reilly <span class="italic">Nutshell</span><a href="http://www.ora.com/default.htm"><span class="calibre_5"><span class="underline"> series (www.ora.com) gives quick, comprehensive </span></span></a></p><p class="calibre_2">treatments of miscellaneous topics and languages such as perl, yacc, sendmail, Windows </p><p class="calibre_2">internals, and regular expressions. </p><p class="calibre_2"><span class="bold">The Web</span></p><p class="calibre_2">Finding good content on the Web is hard. Here are several links that we check at least </p><p class="calibre_2">once a week. </p><p class="calibre_2"><span class="bold">Slashdot. </span> Billed as "News for nerds. Stuff that matters," Slashdot is one of the</p><p class="calibre_2">net homes of the Linux community. As well as regular updates on Linux news, the </p><p class="calibre_2">site offers information on technologies that are cool and issues that affect </p><p class="calibre_2">developers. </p><p class="calibre_2"><a href="http://www.slashdot.org/default.htm"><span class="calibre_5"><span class="underline">www.slashdot.org</span></span></a></p><p class="calibre_2"><span class="bold">Cetus Links. </span> Thousands of links on object-oriented topics. </p><p class="calibre_2"><img class="calibre_6" src="images/00007.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00289.jpg"/></p><p class="calibre_2"><a href="http://www.cetus-links.org/default.htm"><span class="calibre_5"><span class="underline">www.cetus-links.org</span></span></a></p><p class="calibre_2"><span class="bold">WikiWikiWeb. </span> The Portland Pattern Repository and patterns discussion. Not just</p><p class="calibre_2">a great resource, the WikiWikiWeb site is an interesting experiment in collective </p><p class="calibre_2">editing of ideas. </p><p class="calibre_2"><a href="http://www.c2.com/default.htm"><span class="calibre_5"><span class="underline">www.c2.com</span></span></a></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00056.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00140.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Internet Resources</span></p><p class="calibre_2">The links below are to resources available on the Internet. They were valid at the time of </p><p class="calibre_2">writing, but (the Net being what it is) they may well be out of date by the time you read this. </p><p class="calibre_2">If so, you could try a general search for the filenames, or come to the <span class="italic">Pragmatic </span></p><p class="calibre_2"><span class="italic">Programmer</span><a href="http://www.pragmaticprogrammer.com/default.htm"><span class="calibre_5"><span class="underline"> Web site (www.pragmaticprogrammer.com</span></span></a>) and follow our links. </p><p class="calibre_2"><span class="bold">Editors</span></p><p class="calibre_2">Emacs and vi are not the only cross-platform editors, but they are freely available and </p><p class="calibre_2">widely used. A quick scan through a magazine such as <span class="italic">Dr. Dobbs</span> will turn up several </p><p class="calibre_2">commercial alternatives. </p><p class="calibre_2"><span class="bold">Emacs</span></p><p class="calibre_2">Both Emacs and XEmacs are available on Unix and Windows platforms. </p><p class="calibre_2"><span class="bold">[URL l] The Emacs Editor</span></p><p class="calibre_2"><a href="http://www.gnu.org/default.htm"><span class="calibre_5"><span class="underline">www.gnu.org</span></span></a></p><p class="calibre_2">The ultimate in big editors, containing every feature that any editor has ever</p><p class="calibre_2">had, Emacs has a near-vertical learning curve, but repays handsomely</p><p class="calibre_2">once you've mastered it. It also makes a great mall and news reader, </p><p class="calibre_2">address book, calendar and diary, adventure game, …. </p><p class="calibre_2"><span class="bold">[URL 2] The XEmacs Editor</span></p><p class="calibre_2"><a href="http://www.xemacs.org/default.htm"><span class="calibre_5"><span class="underline">www.xemacs.org</span></span></a></p><p class="calibre_2">Spawned from the original Emacs some years ago, XEmacs is reputed to </p><p class="calibre_2">have cleaner internals and a better-looking interface. </p><p class="calibre_2"><span class="bold">vi</span></p><p class="calibre_2">There are at least 15 different vi clones available. Of these, vim is probably ported to the </p><p class="calibre_2">most platforms, and so would be a good choice of editor if you find yourself working in </p><p class="calibre_2">many different environments. </p><p class="calibre_2"><span class="bold">[URL 3] The Vim Editor</span></p><p class="calibre_2"><a href="ftp://ftp.fu-berlin.de/misc/editors/vim"><span class="calibre_5"><span class="underline">ftp://ftp.fu-berlin.de/misc/editors/vim</span></span></a></p><p class="calibre_2">From the documentation: "There are a lot of enhancements above vi: multi</p><p class="calibre_2">level undo, multi windows and buffers, syntax highlighting, command line</p><p class="calibre_2">editing, filename completion, on-line help, visual selection, etc…." </p><p class="calibre_2"><span class="bold">[URL 4] The elvis Editor</span></p><p class="calibre_2"><a href="http://www.fh-wedel.de/elvis"><span class="calibre_5"><span class="underline">www.fh-wedel.de/elvis</span></span></a></p><p class="calibre_2">An enhanced vi clone with support for X. </p><p class="calibre_2"><span class="bold">[URL 5] Emacs Viper Mode</span></p><p class="calibre_2"><a href="http://www.cs.sunysb.edu/~kifer/emacs.html"><span class="calibre_5"><span class="underline">http://www.cs.sunysb.edu/~kifer/emacs.html</span></span></a></p><p class="calibre_2">Viper is a set of macros that make Emacs look like vi. Some may doubt the </p><p class="calibre_2">wisdom of taking the world's largest editor and extending it to emulate an </p><p class="calibre_2">editor whose strength is its compactness. Others claim it combines the best </p><p class="calibre_2">of both worlds. </p><p class="calibre_2"><span class="bold">Compilers, Languages, and Development Tools</span></p><p class="calibre_2"><span class="bold">[URL 6] The GNU C/C++ Compiler</span></p><p class="calibre_2"><a href="http://www.fsf.org/software/gcc/gcc.html"><span class="calibre_5"><span class="underline">www.fsf.org/software/gcc/gcc.html</span></span></a></p><p class="calibre_2">One of the most popular C and C++ compilers on the planet. It also does </p><p class="calibre_2">Objective-C. (At the time of writing, the egcs project, which previously </p><p class="calibre_2">splintered from gcc, is in the process of merging back into the fold.)</p><p class="calibre_2"><span class="bold">[URL 7] The Java Language from Sun</span></p><p class="calibre_2"><a href="http://../java.sun.com/default.htm"><span class="calibre_5"><span class="underline">java.sun.com</span></span></a></p><p class="calibre_2">Home of Java, including downloadable SDKs, documentation, tutorials, </p><p class="calibre_2">news, and more. </p><p class="calibre_2"><span class="bold">[URL 8] Perl Language Home Page</span></p><p class="calibre_2"><a href="http://www.perl.com/default.htm"><span class="calibre_5"><span class="underline">www.perl.com</span></span></a></p><p class="calibre_2">O'Reilly hosts this set of Peri-related resources. </p><p class="calibre_2"><span class="bold">[URL 9] The Python Language</span></p><p class="calibre_2"><a href="http://www.python.org/default.htm"><span class="calibre_5"><span class="underline">www.python.org</span></span></a></p><p class="calibre_2">The Python object-oriented programming language is interpreted and </p><p class="calibre_2">interactive, with a slightly quirky syntax and a wide and loyal following. </p><p class="calibre_2"><span class="bold">[URL 10] SmallEiffel</span></p><p class="calibre_2"><a href="http://../smalleiffel.loria.fr/default.htm"><span class="calibre_5"><span class="underline">SmallEiffel.loria.fr</span></span></a></p><p class="calibre_2">The GNU Eiffel compiler runs on any machine that has an ANSI C compiler </p><p class="calibre_2">and a Posix runtime environment. </p><p class="calibre_2"><span class="bold">[URL 11] ISE Eiffel</span></p><p class="calibre_2"><a href="http://www.eiffel.com/default.htm"><span class="calibre_5"><span class="underline">www.eiffel.com</span></span></a></p><p class="calibre_2">Interactive Software Engineering is the originator of Design by Contract, and </p><p class="calibre_2">sells a commercial Eiffel compiler and related tools. </p><p class="calibre_2"><span class="bold">[URL 12] Sather</span></p><p class="calibre_2"><a href="http://www.icsi.berkeley.edu/~sather"><span class="calibre_5"><span class="underline">www.icsi.berkeley.edu/~sather</span></span></a></p><p class="calibre_2">Sather is an experimental language that grew out of Eiffel. It aims to support </p><p class="calibre_2">higher-order functions and iteration abstraction as well as Common Lisp, </p><p class="calibre_2">CLU, or Scheme, and to be as efficient as C, C++, or Fortran. </p><p class="calibre_2"><span class="bold">[URL 13] VisualWorks</span></p><p class="calibre_2"><a href="http://www.objectshare.com/default.htm"><span class="calibre_5"><span class="underline">www.objectshare.com</span></span></a></p><p class="calibre_2">Home of the VisualWorks Smalltalk environment. Noncommercial versions </p><p class="calibre_2">for Windows and Linux are available for free. </p><p class="calibre_2"><span class="bold">[URL 14] The Squeak Language Environment</span></p><p class="calibre_2"><a href="http://../squeak.cs.uiuc.edu/default.htm"><span class="calibre_5"><span class="underline">squeak.cs.uiuc.edu</span></span></a></p><p class="calibre_2">Squeak is a freely available, portable implementation of Smalltalk-80 written </p><p class="calibre_2">in itself; it can produce C code output for higher performance. </p><p class="calibre_2"><span class="bold">[URL 15] The TOM Programming Language</span></p><p class="calibre_2"><a href="http://www.gerbil.org/tom"><span class="calibre_5"><span class="underline">www.gerbil.org/tom</span></span></a></p><p class="calibre_2">A very dynamic language with roots in Objective-C. </p><p class="calibre_2"><span class="bold">[URL 16] The Beowulf Project</span></p><p class="calibre_2"><a href="http://www.beowulf.org/default.htm"><span class="calibre_5"><span class="underline">www.beowulf.org</span></span></a></p><p class="calibre_2">A project that builds high-performance computers out of networked clusters </p><p class="calibre_2">of inexpensive Linux boxes. </p><p class="calibre_2"><span class="bold">[URL 17] iContract—Design by Contract Tool for Java</span></p><p class="calibre_2"><a href="http://www.reliable-systems.com/default.htm"><span class="calibre_5"><span class="underline">www.reliable-systems.com</span></span></a></p><p class="calibre_2">Design by Contract formalism of preconditions, postconditions, and </p><p class="calibre_2">invariants, implemented as a preprocessor for Java. Honors inheritance, </p><p class="calibre_2">implements existential quantifiers, and more. </p><p class="calibre_2"><span class="bold">[URL 18] Nana—Logging and Assertions for C and C++</span></p><p class="calibre_2"><a href="http://www.cs.ntu.edu.au/homepages/pjm/nana-home/index.html"><span class="calibre_5"><span class="underline">www.cs.ntu.edu.au/homepages/pjm/nana-home/index.html</span></span></a></p><p class="calibre_2">Improved support for assertion checking and logging in C and C++. It also </p><p class="calibre_2">provides some support for Design by Contract. </p><p class="calibre_2"><span class="bold">[URL 19] DDD–Data Display Debugger</span></p><p class="calibre_2"><a href="http://www.cs.tu-bs.de/softech/ddd"><span class="calibre_5"><span class="underline">www.cs.tu-bs.de/softech/ddd</span></span></a></p><p class="calibre_2">A free graphical front end for Unix debuggers. </p><p class="calibre_2"><span class="bold">[URL 20] John Brant's Refactoring Browser</span></p><p class="calibre_2"><a href="http://../st-www.cs.uiuc.edu/users/brant/Refactory"><span class="calibre_5"><span class="underline">st-www.cs.uiuc.edu/users/brant/Refactory</span></span></a></p><p class="calibre_2"><img class="calibre_36" src="images/00240.jpg"/></p><p class="calibre_2">A popular refactoring browser for Smalltalk. </p><p class="calibre_2"><span class="bold">[URL 21 ] DOC++ Documentation Generator</span></p><p class="calibre_2"><a href="http://www.zib.de/Visual/software/doc++/index.html"><span class="calibre_5"><span class="underline">www.zib.de/Visual/software/doc++/index.html</span></span></a></p><p class="calibre_2">DOC++ is a documentation system for C/C++ and Java that generates both</p><p class="calibre_2">and HTML output for sophisticated online browsing of your</p><p class="calibre_2">documentation directly from the C++ header or Java class flies. </p><p class="calibre_2"><span class="bold">[URL 22] xUnit–Unit Testing Framework</span></p><p class="calibre_2"><a href="http://www.xprogranming.com/default.htm"><span class="calibre_5"><span class="underline">www.XProgranming.com</span></span></a></p><p class="calibre_2">A simple but powerful concept, the xUnit unit testing framework provides a </p><p class="calibre_2">consistent platform for testing software written in a variety of languages. </p><p class="calibre_2"><span class="bold">[URL 23] The Tcl Language</span></p><p class="calibre_2"><a href="http://www.scriptics.com/default.htm"><span class="calibre_5"><span class="underline">www.scriptics.com</span></span></a></p><p class="calibre_2">Tcl ("Tool Command Language") is a scripting language designed to be </p><p class="calibre_2">easy to embed into an application. </p><p class="calibre_2"><span class="bold">[URL 24] Expect—Automate Interaction with Programs</span></p><p class="calibre_2"><a href="http://../expect.nist.gov/default.htm"><span class="calibre_5"><span class="underline">expect.nist.gov</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">An extension built on Tcl [URL 23</span></span></a>], expect allows you to script interaction </p><p class="calibre_2">with programs. As well as helping you write command flies that (for </p><p class="calibre_2">example) fetch files from remote servers or extend the power of your shell, </p><p class="calibre_2">expect can be useful when performing regression testing. A graphical </p><p class="calibre_2">version, expectk, lets you wrap non-GUI applications with a windowing front </p><p class="calibre_2">end. </p><p class="calibre_2"><span class="bold">[URL 25] T Spaces</span></p><p class="calibre_2"><a href="http://www.almaden.ibm.com/cs/TSpaces"><span class="calibre_5"><span class="underline">www.almaden.ibm.com/cs/TSpaces</span></span></a></p><p class="calibre_2">From their Web page: "T Spaces is a network communication buffer with </p><p class="calibre_2">database capabilities. It enables communication between applications and </p><p class="calibre_2">devices in a network of heterogeneous computers and operating systems. T </p><p class="calibre_2">Spaces provides group communication services, database services, </p><p class="calibre_2">URL-based file transfer services, and event notification services." </p><p class="calibre_2"><span class="bold">[URL 26] javaCC—Java Compiler-Compiler</span></p><p class="calibre_2"><a href="http://www.metamata.com/javacc"><span class="calibre_5"><span class="underline">www.metamata.com/javacc</span></span></a></p><p class="calibre_2">A parser generator that is tightly coupled to the Java language. </p><p class="calibre_2"><span class="bold">[URL 27] The bison Parser Generator</span></p><p class="calibre_2"><a href="http://www.gnu.org/software/bison/bison.html"><span class="calibre_5"><span class="underline">www.gnu.org/software/bison/bison.html</span></span></a></p><p class="calibre_2">bison takes an input grammar specification and generates from it the C </p><p class="calibre_2">source code of a suitable parser. </p><p class="calibre_2"><span class="bold">[URL 28] SWIG—Simplified Wrapper and Interface Generator</span></p><p class="calibre_2"><a href="http://www.swig.org/default.htm"><span class="calibre_5"><span class="underline">www.swig.org</span></span></a></p><p class="calibre_2">SWIG is a software development tool that connects programs written in C, </p><p class="calibre_2">C++, and Objective-C with a variety of high-level programming languages </p><p class="calibre_2">such as Perl, Python, and Tcl/Tk, as well as Java, Eiffel, and Guile. </p><p class="calibre_2"><span class="bold">[URL 29] The Object Management Group, Inc. </span></p><p class="calibre_2"><a href="http://www.omg.org/default.htm"><span class="calibre_5"><span class="underline">www.omg.org</span></span></a></p><p class="calibre_2">The OMG is the steward of various specifications for producing distributed </p><p class="calibre_2">object-based systems. Their work includes the Common Object Request </p><p class="calibre_2">Broker Architecture (CORBA) and the Internet Inter-ORB Protocol (IIOP). </p><p class="calibre_2">Combined, these specifications make it possible for objects to communicate </p><p class="calibre_2">with each other, even if they are written in different languages and run on </p><p class="calibre_2">different types of computers. </p><p class="calibre_2"><span class="bold">Unix Tools Under DOS</span></p><p class="calibre_2"><span class="bold">[URL 30] The UWIN Development Tools</span></p><p class="calibre_2"><a href="http://www.gtlinc.com/Products/Uwin/uwin.html"><span class="calibre_5"><span class="underline">www.gtlinc.com/Products/Uwin/uwin.html</span></span></a></p><p class="calibre_2"><span class="italic">Global Technologies, Inc., Old Bridge, NJ</span></p><p class="calibre_2">The UWIN package provides Windows Dynamic Link Libraries (DLLs) that </p><p class="calibre_2">emulate a large portion of the Unix C level library interface. Using this </p><p class="calibre_2">interface, GTL has ported a large number of Unix command-line tools to </p><p class="calibre_2">Windows. See also [<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">URL 31</span></span></a>]. </p><p class="calibre_2"><span class="bold">[URL 31 ] The Cygnus Cygwin Tools</span></p><p class="calibre_2"><a href="http://../sourceware.cygnus.com/cygwin/default.htm"><span class="calibre_5"><span class="underline">sourceware.cygnus.com/cygwin/</span></span></a></p><p class="calibre_2"><span class="italic">Cygnus Solutions, Sunnyvale, CA</span></p><p class="calibre_2">The Cygnus package also emulates the the Unix C library interface, and </p><p class="calibre_2">provides a large array of Unix command-line tools under the Windows </p><p class="calibre_2">operating system. </p><p class="calibre_2"><span class="bold">[URL 32] Perl Power Tools</span></p><p class="calibre_2"><a href="http://www.perl.com/pub/language/ppt/default.htm"><span class="calibre_5"><span class="underline">www.perl.com/pub/language/ppt/</span></span></a></p><p class="calibre_2">A project to reimplement the classic Unix command set in Perl, making the </p><p class="calibre_2">commands available on all platforms that support Perl (and that's a lot of </p><p class="calibre_2">platforms). </p><p class="calibre_2"><span class="bold">Source Code Control Tools</span></p><p class="calibre_2"><span class="bold">[URL 33] RCS—Revision Control System</span></p><p class="calibre_2"><a href="http://../prep.ai.mit.edu/default.htm"><span class="calibre_5"><span class="underline">prep.ai.mit.edu</span></span></a></p><p class="calibre_2">GNU source code control system for Unix and Windows NT. </p><p class="calibre_2"><span class="bold">[URL 34] CVS—Concurrent Version System</span></p><p class="calibre_2"><a href="http://www.cvshome.com/default.htm"><span class="calibre_5"><span class="underline">www.cvshome.com</span></span></a></p><p class="calibre_2">Freely available source code control system for Unix and Windows NT. </p><p class="calibre_2">Extends RCS by supporting a client-server model and concurrent access to </p><p class="calibre_2">files. </p><p class="calibre_2"><span class="bold">[URL 35] Aegis Transaction-Based Configuration Management</span></p><p class="calibre_2"><a href="http://www.canb.auug.org.au/~millerp/aegis.html"><span class="calibre_5"><span class="underline">http://www.canb.auug.org.au/~millerp/aegis.html</span></span></a></p><p class="calibre_2">A process-oriented revision control tool that imposes project standards </p><p class="calibre_2">(such as verifying that checked-in code passes tests). </p><p class="calibre_2"><span class="bold">[URL 36] ClearCase</span></p><p class="calibre_2"><a href="http://www.rational.com/default.htm"><span class="calibre_5"><span class="underline">www.rational.com</span></span></a></p><p class="calibre_2">Version control, workspace and build management, process control. </p><p class="calibre_2"><span class="bold">[URL 37] MKS Source Integrity</span></p><p class="calibre_2"><a href="http://www.mks.com/default.htm"><span class="calibre_5"><span class="underline">www.mks.com</span></span></a></p><p class="calibre_2">Version control and configuration management. Some versions incorporate </p><p class="calibre_2">features allowing remote developers to work on the same files </p><p class="calibre_2">simultaneously (much like CVS). </p><p class="calibre_2"><span class="bold">[URL 38] PVCS Configuration Management</span></p><p class="calibre_2"><a href="http://www.merant.com/default.htm"><span class="calibre_5"><span class="underline">www.merant.com</span></span></a></p><p class="calibre_2">A source code control system, very popular for Windows systems. </p><p class="calibre_2"><span class="bold">[URL 39] Visual SourceSafe</span></p><p class="calibre_2"><a href="http://www.microsoft.com/default.htm"><span class="calibre_5"><span class="underline">www.microsoft.com</span></span></a></p><p class="calibre_2">A version control system that integrates with Microsoft's visual development </p><p class="calibre_2">tools. </p><p class="calibre_2"><span class="bold">[URL 40] Perforce</span></p><p class="calibre_2"><a href="http://www.perforce.com/default.htm"><span class="calibre_5"><span class="underline">www.perforce.com</span></span></a></p><p class="calibre_2">A client-server software configuration management system. </p><p class="calibre_2"><span class="bold">Other Tools</span></p><p class="calibre_2"><span class="bold">[URL 41] WinZip—Archive Utility for Windows</span></p><p class="calibre_2"><a href="http://www.winzip.com/default.htm"><span class="calibre_5"><span class="underline">www.winzip.com</span></span></a></p><p class="calibre_2"><span class="italic">Nico Mak Computing, Inc., Mansfield, CT</span></p><p class="calibre_2">A Windows-based file archive utility. Supports both zip and tar formats. </p><p class="calibre_2"><span class="bold">[URL 42] The Z Shell</span></p><p class="calibre_2"><a href="http://../sunsite.auc.dk/zsh"><span class="calibre_5"><span class="underline">sunsite.auc.dk/zsh</span></span></a></p><p class="calibre_2">A shell designed for interactive use, although it is also a powerful scripting </p><p class="calibre_2">language. Many of the useful features of bash, ksh, and tcsh were </p><p class="calibre_2">incorporated into zsh; many original features were added. </p><p class="calibre_2"><span class="bold">[URL 43] A Free SMB Client for Unix Systems</span></p><p class="calibre_2"><a href="http://../samba.anu.edu.au/pub/samba/default.htm"><span class="calibre_5"><span class="underline">samba.anu.edu.au/pub/samba/</span></span></a></p><p class="calibre_2">Samba lets you share files and other resources between Unix and Windows </p><p class="calibre_2">systems. Samba includes:</p><p class="calibre_2">An SMB server, to provide Windows NT and LAN Manager-style file </p><p class="calibre_2">and print services to SMB clients such as Windows 95, Warp </p><p class="calibre_2">Server, smbfs, and others. </p><p class="calibre_2">A Netbios nameserver, which among other things gives browsing </p><p class="calibre_2">support. Samba can be the master browser on your LAN if you wish. </p><p class="calibre_2">An ftp-like SMB client that allows you to access PC resources (disks </p><p class="calibre_2">and printers) from Unix, Netware, and other operating systems. </p><p class="calibre_2"><span class="bold">Papers and Publications</span></p><p class="calibre_2"><span class="bold">[URL 44] The comp.object FAQ</span></p><p class="calibre_2"><a href="http://www.cyberdyne-object-sys.com/oofaq2"><span class="calibre_5"><span class="underline">www.cyberdyne-object-sys.com/oofaq2</span></span></a></p><p class="calibre_2">A substantial and well-organized FAQ for the comp.object newsgroup. </p><p class="calibre_2"><span class="bold">[URL 45] eXtreme Programming</span></p><p class="calibre_2"><a href="http://www.xprogramming.com/default.htm"><span class="calibre_5"><span class="underline">www.XProgramming.com</span></span></a></p><p class="calibre_2">From the Web site: "In XP, we use a very lightweight combination of </p><p class="calibre_2">practices to create a team that can rapidly produce extremely reliable, </p><p class="calibre_2">efficient, well-factored software. Many of the XP practices were created and </p><p class="calibre_2">tested as part of the Chrysler C3 project, which is a very successful payroll </p><p class="calibre_2">system implemented in Smalltalk." </p><p class="calibre_2"><span class="bold">[URL 46] Alistair Cockburn's Home Page</span></p><p class="calibre_2"><a href="http://../members.aol.com/acockburn"><span class="calibre_5"><span class="underline">members.aol.com/acockburn</span></span></a></p><p class="calibre_2">Look for "Structuring Use Cases with Goals" and use case templates. </p><p class="calibre_2"><span class="bold">[URL 47] Martin Fowler's Home Page</span></p><p class="calibre_2"><a href="http://../ourworld.compuserve.com/homepages/martin_fowler"><span class="calibre_5"><span class="underline">ourworld.CompuServe.com/homepages/martin_fowler</span></span></a></p><p class="calibre_2">Author of <span class="italic">Analysis Patterns</span> and co-author of <span class="italic">UML Distilled</span> and </p><p class="calibre_2"><span class="italic">Refactoring: Improving the Design of Existing Code. </span> Martin Fowler's </p><p class="calibre_2">home page discusses his books and his work with the UML. </p><p class="calibre_2"><span class="bold">[URL 48] Robert C. Martin's Home Page</span></p><p class="calibre_2"><a href="http://www.objectmentor.com/default.htm"><span class="calibre_5"><span class="underline">www.objectmentor.com</span></span></a></p><p class="calibre_2">Good introductory papers on object-oriented techniques, including </p><p class="calibre_2">dependency analysis and metrics. </p><p class="calibre_2"><span class="bold">[URL 49] Aspect-Oriented Programming</span></p><p class="calibre_2"><a href="http://www.pare.xerox.com/csl/projects/aop/default.htm"><span class="calibre_5"><span class="underline">www.pare.xerox.com/csl/projects/aop/</span></span></a></p><p class="calibre_2">An approach to adding functionality to code, both orthogonally and </p><p class="calibre_2">declaratively. </p><p class="calibre_2"><span class="bold">[URL 50] JavaSpaces Specification</span></p><p class="calibre_2"><a href="http://../java.sun.com/products/javaspaces"><span class="calibre_5"><span class="underline">java.sun.com/products/javaspaces</span></span></a></p><p class="calibre_2">A Linda-like system for Java that supports distributed persistence and </p><p class="calibre_2">distributed algorithms. </p><p class="calibre_2"><span class="bold">[URL 51] Netscape Source Code</span></p><p class="calibre_2"><a href="http://www.mozilla.org/default.htm"><span class="calibre_5"><span class="underline">www.mozilla.org</span></span></a></p><p class="calibre_2">The development source of the Netscape browser. </p><p class="calibre_2"><span class="bold">[URL 52] The Jargon File</span></p><p class="calibre_2"><a href="http://www.jargon.org/default.htm"><span class="calibre_5"><span class="underline">www.jargon.org</span></span></a></p><p class="calibre_2"><span class="italic">Eric S. Raymond</span></p><p class="calibre_2">Definitions for many common (and not so common) computer industry </p><p class="calibre_2">terms, along with a good dose of folklore. </p><p class="calibre_2"><span class="bold">[URL 53] Eric S. Raymond's Papers</span></p><p class="calibre_2"><a href="http://www.tuxedo.org/~esr"><span class="calibre_5"><span class="underline">www.tuxedo.org/~esr</span></span></a></p><p class="calibre_2">Eric's papers on <span class="italic">The Cathedral and the Bazaar</span> and <span class="italic">Homesteading the </span></p><p class="calibre_2"><span class="italic">Noo-sphere</span> describing the psychosocietal basis for and implications of the </p><p class="calibre_2">Open Source movement. </p><p class="calibre_2"><span class="bold">[URL 54] The K Desktop Environment</span></p><p class="calibre_2"><a href="http://www.kde.org/default.htm"><span class="calibre_5"><span class="underline">www.kde.org</span></span></a></p><p class="calibre_2">From their Web page: "KDE is a powerful graphical desktop environment for </p><p class="calibre_2">Unix workstations. KDE is an Internet project and truly open in every </p><p class="calibre_2">sense." </p><p class="calibre_2"><span class="bold">[URL 55] The GNU Image Manipulation Program</span></p><p class="calibre_2"><a href="http://www.gimp.org/default.htm"><span class="calibre_5"><span class="underline">www.gimp.org</span></span></a></p><p class="calibre_2">Gimp is a freely distributed program used for image creation, composition, </p><p class="calibre_2">and retouching. </p><p class="calibre_2"><span class="bold">[URL 56] The Demeter Project</span></p><p class="calibre_2"><a href="http://www.ccs.neu.edu/research/demeter"><span class="calibre_5"><span class="underline">www.ccs.neu.edu/research/demeter</span></span></a></p><p class="calibre_2">Research focused on making software easier to maintain and evolve using </p><p class="calibre_2">Adaptive Programming. </p><p class="calibre_2"><span class="bold">Miscellaneous</span></p><p class="calibre_2"><span class="bold">[URL 57] The GNU Project</span></p><p class="calibre_2"><a href="http://www.gnu.org/default.htm"><span class="calibre_5"><span class="underline">www.gnu.org</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00150.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00255.jpg"/></p><p class="calibre_2"><span class="italic">Free Software Foundation, Boston, MA</span></p><p class="calibre_2">The Free Software Foundation is a tax-exempt charity that raises funds for </p><p class="calibre_2">the GNU project. The GNU project's goal is to produce a complete, free, </p><p class="calibre_2">Unix-like system. Many of the tools they've developed along the way have </p><p class="calibre_2">become industry standards. </p><p class="calibre_2"><span class="bold">[URL 58] Web Server Information</span></p><p class="calibre_2"><a href="http://www.netcraft.com/survey/servers.html"><span class="calibre_5"><span class="underline">www.netcraft.com/survey/servers.html</span></span></a></p><p class="calibre_2">Links to the home pages of over 50 different web servers. Some are </p><p class="calibre_2">commercial products, while others are freely available. </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_6" src="images/00284.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00105.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Bibliography</span></p><p class="calibre_2">[Bak72] F. T. Baker. Chief programmer team management of production programming. <span class="italic">IBM Systems </span></p><p class="calibre_2"><span class="italic">Journal, </span> ll(l):56–73, 1972. </p><p class="calibre_2">[Bbm96] V. Basili, L. Briand, and W. L. Melo. A validation of object-oriented design metrics as quality</p><p class="calibre_2">indicators. <span class="italic">IEEE Transactions on Software Engineering, </span> 22(10):751–761, October 1996. </p><p class="calibre_2">[Ber96] Albert J. Bernstein. <span class="italic">Dinosaur Brains: Dealing with All Those Impossible People at Work. </span></p><p class="calibre_2">Ballantine Books, New York, NY, 1996. </p><p class="calibre_2">[Bra95] Marshall Brain. <span class="italic">Win32 System Services. </span> Prentice Hall, Englewood Cliffs, NJ, 1995. </p><p class="calibre_2">[Bro95] Frederick P. Brooks Jr. <span class="italic">The Mythical Man Month: Essays on Software Engineering. </span></p><p class="calibre_2">Addison-Wesley, Reading, MA, anniversary edition, 1995. </p><p class="calibre_2">[CG90] N. Carriero and D. Gelenter. <span class="italic">How to Write Parallel Programs: A First Course. </span> MIT Press, </p><p class="calibre_2">Cambridge, MA, 1990. </p><p class="calibre_2">[CN91] Brad J. Cox and Andrex J. Novobilski. <span class="italic">Object-Oriented Programming, An Evolutionary </span></p><p class="calibre_2"><span class="italic">Approach. </span> Addison-Wesley, Reading, MA, 1991. </p><p class="calibre_2">[Coc97a] Alistair Cockburn. Goals and use cases. <span class="italic">Journal of Object Oriented Programming, </span></p><p class="calibre_2">9(7):35–40, September 1997. </p><p class="calibre_2">[Coc97b] Alistair Cockburn. <span class="italic">Surviving Object-Oriented Projects: A Manager's Guide. </span> Addison Wesley</p><p class="calibre_2">Longman, Reading, MA, 1997. </p><p class="calibre_2">[Cop92] James O. Coplien. <span class="italic">Advanced C++ Programming Styles and Idioms. </span> Addison-Wesley, </p><p class="calibre_2">Reading, MA, 1992. </p><p class="calibre_2">[DL99] Tom Demarco and Timothy Lister. <span class="italic">Peopleware: Productive Projects and Teams. </span> Dorset House, </p><p class="calibre_2">New York, NY, second edition, 1999.. </p><p class="calibre_2">+</p><p class="calibre_2">[FBB 99] Martin Fowler, Kent Beck, John Brant, William Opdyke and Don Roberts. <span class="italic">Refactoring: </span></p><p class="calibre_2"><span class="italic">Improving the Design of Existing Code. </span> Addison Wesley Longman, Reading, MA, 1999. </p><p class="calibre_2">[Fow96] Martin Fowler. <span class="italic">Analysis Patterns: Reusable Object Models. </span> Addison Wesley Longman, </p><p class="calibre_2">Reading, MA, 1996. </p><p class="calibre_2">[FS97] Martin Fowler and Kendall Scott. <span class="italic">UML Distilled: Applying the Standard Object Modeling </span></p><p class="calibre_2"><span class="italic">Language. </span> Addison Wesley Longman, Reading, MA, 1997. </p><p class="calibre_2">[GHJV95] Erich Gamma, Richard Helm, Ralph Johnson and John Vlissides. <span class="italic">Design Patterns: </span></p><p class="calibre_2"><span class="italic">Elements of Reusable Object-Oriented Software. </span> Addison-Wesley, Reading, MA, 1995. </p><p class="calibre_2">[Gla99a] Robert L. Glass. Inspections—Some surprising findings. <span class="italic">Communications of the ACM, </span> 42(4):</p><p class="calibre_2">17–19, April 1999. </p><p class="calibre_2">[Gla99b] Robert L. Glass. The realities of software technology payoffs. <span class="italic">Communications of the ACM, </span></p><p class="calibre_2">42(2):74–79, February 1999. </p><p class="calibre_2">[Hol78] Michael Holt. <span class="italic">Math Puzzles and Games. </span> Dorset Press, New York, NY, 1978. </p><p class="calibre_2">[Jac94] Ivar Jacobson. <span class="italic">Object-Oriented Software Engineering: A Use-Case Driven Approach. </span></p><p class="calibre_2">Addison-Wesley, Reading, MA, 1994. </p><p class="calibre_2">+</p><p class="calibre_2">[KLM 97] Gregor Kiczales, John Lamping, Anurag Mendhekar, Chris Maeda, Cristina Videira Lopes, </p><p class="calibre_2">Jean-Marc Loingtier and John Irwin. Aspect-oriented programming. <span class="italic">In European Conference on </span></p><p class="calibre_2"><span class="italic">Object-Oriented Programming (ECOOP), </span> volume LNCS 1241. Springer-Verlag, June 1997. </p><p class="calibre_2">[Knu97a] Donald Ervin Knuth. <span class="italic">The Art of Computer Programming: Fundamental Algorithms, </span> volume 1. </p><p class="calibre_2">Addison Wesley Longman, Reading, MA, third edition, 1997. </p><p class="calibre_2">[Knu97b] Donald Ervin Knuth. <span class="italic">The Art of Computer Programming: Seminumerical Algorithms, </span> volume</p><p class="calibre_2">2. Addison Wesley Longman, Reading, MA, third edition, 1997. </p><p class="calibre_2">[Knu98] Donald Ervin Knuth. <span class="italic">The Art of Computer Programming: Sorting and Searching, </span> volume 3. </p><p class="calibre_2">Addison Wesley Longman, Reading, MA, second edition, 1998. </p><p class="calibre_2">[KP99] Brian W. Kernighan and Rob Pike. <span class="italic">The Practice of Programming. </span> Addison Wesley Longman, </p><p class="calibre_2">Reading, MA, 1999. </p><p class="calibre_2">[Kru98] Philippe Kruchten. <span class="italic">The Rational Unified Process: An Introduction. </span> Addison Wesley Longman, </p><p class="calibre_2">Reading, MA, 1998. </p><p class="calibre_2">[Lak96] John Lakos. <span class="italic">Large-Scale C++ Software Design. </span> Addison Wesley Longman, Reading, MA, </p><p class="calibre_2">1996. </p><p class="calibre_2">[LH89] Karl J. Lieberherr and Ian Holland. Assuring good style for object-oriented programs. <span class="italic">IEEE </span></p><p class="calibre_2"><span class="italic">Software</span>, pages 38–48, September 1989. </p><p class="calibre_2">[Lis88] Barbara Liskov. Data abstraction and hierarchy. <span class="italic">SIGPLAN Notices, </span> 23(5), May 1988. </p><p class="calibre_2">[LMB92] John R. Levine, Tony Mason and Doug Brown. <span class="italic">Lex and Yacc. </span> O'Reilly &amp; Associates, Inc., </p><p class="calibre_2">Sebastopol, CA, second edition, 1992. </p><p class="calibre_2">[McC95] Jim McCarthy. <span class="italic">Dynamics of Software Development. </span> Microsoft Press, Redmond, WA, 1995. </p><p class="calibre_2">[Mey96] Scott Meyers. <span class="italic">More Effective C++: 35 New Ways to Improve Your Programs and Designs. </span></p><p class="calibre_2">Addison-Wesley, Reading, MA, 1996. </p><p class="calibre_2">[Mey97a] Scott Meyers. <span class="italic">Effective C++: 50 Specific Ways to Improve Your Programs and Designs. </span></p><p class="calibre_2">Addison Wesley Longman, Reading, MA, second edition, 1997. </p><p class="calibre_2"><img class="calibre_6" src="images/00040.jpg"/></p><p class="calibre_2"><img class="calibre_1" src="images/00054.jpg"/></p><p class="calibre_2">[Mey97b] Bertrand Meyer. <span class="italic">Object-Oriented Software Construction. </span> Prentice Hall, Englewood Cliffs, NJ, </p><p class="calibre_2">second edition, 1997. </p><p class="calibre_2">[Pet98] Charles Petzold. <span class="italic">Programming Windows, The Definitive Guide to the Win32 API. </span> Microsoft</p><p class="calibre_2">Press, Redmond, WA, fifth edition, 1998. </p><p class="calibre_2">[Sch95] Bruce Schneier. <span class="italic">Applied Cryptography: Protocols, Algorithms, and Source Code in C. </span> John</p><p class="calibre_2">Wiley &amp; Sons, New York, NY, second edition, 1995. </p><p class="calibre_2">[Sed83] Robert Sedgewick. <span class="italic">Algorithms. </span> Addison-Wesley, Reading, MA, 1983. </p><p class="calibre_2">[Sed92] Robert Sedgewick. <span class="italic">Algorithms in C++. </span> Addison-Wesley, Reading, MA, 1992. </p><p class="calibre_2">[SF96] Robert Sedgewick and Phillipe Flajolet. <span class="italic">An Introduction to the Analysis of Algorithms. </span></p><p class="calibre_2">Addison-Wesley, Reading, MA, 1996. </p><p class="calibre_2">[Ste92] W. Richard Stevens. <span class="italic">Advanced Programming in the Unix Environment. </span> Addison-Wesley, </p><p class="calibre_2">Reading, MA, 1992. </p><p class="calibre_2">[Ste98] W. Richard Stevens. <span class="italic">Unix Network Programming, Volume 1: Networking APIs: Sockets and </span></p><p class="calibre_2"><span class="italic">Xti. </span> Prentice Hall, Englewood Cliffs, NJ, second edition, 1998. </p><p class="calibre_2">[Ste99] W. Richard Stevens. <span class="italic">Unix Network Programming, Volume 2: Interprocess Communications. </span></p><p class="calibre_2">Prentice Hall, Englewood Cliffs, NJ, second edition, 1999. </p><p class="calibre_2">[Str35] James Ridley Stroop. Studies of interference in serial verbal reactions. <span class="italic">Journal of Experimental </span></p><p class="calibre_2"><span class="italic">Psychology, </span> 18:643–662, 1935. </p><p class="calibre_2">[WK82] James Q. Wilson and George Kelling. The police and neighborhood safety. <span class="italic">The Atlantic </span></p><p class="calibre_2"><span class="italic">Monthly, </span> 249(3):29–38, March 1982. </p><p class="calibre_2">[YC86] Edward Yourdon and Larry L. Constantine. <span class="italic">Structured Design: Fundamentals of a Discipline of </span></p><p class="calibre_2"><span class="italic">Computer Program and Systems Design. </span> Prentice Hall, Englewood Cliffs, NJ, second edition, 1986. </p><p class="calibre_2">[You95] Edward Yourdon. Managing projects to produce good-enough software. <span class="italic">IEEE Software, </span></p><p class="calibre_2">March 1995. </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><img class="calibre_37" src="images/00016.jpg"/></p><p class="calibre_2"><img class="calibre_38" src="images/00045.jpg"/></p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"><span class="bold">Appendix B. Answers to Exercises</span></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">1:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Orthogonality</span></span></a></p><p class="calibre_2">You are writing a class called Split, which splits input lines into fields. Which of the following </p><p class="calibre_2">two Java class signatures is the more orthogonal design? </p><p class="calibre_2"><span class="bold">class</span> Splitl {</p><p class="calibre_2"><span class="bold">public</span> Splitl(InputStreamReader rdr) { ... </p><p class="calibre_2"><span class="bold">public void</span> readNextLine() <span class="bold">throws</span> IOException { ... </p><p class="calibre_2"><span class="bold">public int</span> numFields() { ... </p><p class="calibre_2"><span class="bold">public</span> String getField(<span class="bold">int</span> fieldNo) { ... </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">class</span> Split2 {</p><p class="calibre_2"><span class="bold">public</span> Split2(String line) { ... </p><p class="calibre_2"><span class="bold">public int</span> numFields() { ... </p><p class="calibre_2"><span class="bold">public</span> String getField(<span class="bold">int</span> fieldNo) { ... </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">1:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">To our way of thinking, class Split2 is more orthogonal. It concentrates on its own task, splitting </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">lines, and ignores details such as where the lines are coming from. Not only does this make the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">code easier to develop, but it also makes it more flexible. Split2 can split lines read from a file, </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">generated by another routine, or passed in via the environment</span></span></a> . </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">2:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Orthogonality</span></span></a></p><p class="calibre_2">Which will lead to a more orthogonal design: modeless or modal dialog boxes? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">2:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">If done correctly, probably modeless. A system that uses modeless dialog boxes will be less</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">concerned with what is going on at any particular moment in time. It will likely have a better</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">intermodule communications infrastructure than a modal system, which may have built-in</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">assumptions about the state of the system?assumptions that lead to increased coupling and</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">decreased orthogonality</span></span></a>. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">3:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Orthogonality</span></span></a></p><p class="calibre_2">How about procedural languages versus object technology? Which results in a more </p><p class="calibre_2">orthogonal system? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">3:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">This is a little tricky. Object technology </span></span><span class="italic"><span class="calibre_5"><span class="underline">can</span></span></span><span class="calibre_5"><span class="underline"> provide a more orthogonal system, but because it has </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">more features to abuse, it is actually easier to create a </span></span><span class="italic"><span class="calibre_5"><span class="underline">nonorthogonal</span></span></span><span class="calibre_5"><span class="underline"> system using objects than it </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">is using a procedural language. Features such as multiple inheritance, exceptions, operator </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">overloading, and parent-method overriding (via subclassing) provide ample opportunity to increase </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">coupling in nonobvious ways . </span></span></a></p><p class="calibre_2">With object technology and a little extra effort, you can achieve a much more orthogonal</p><p class="calibre_2">system. But while you can always write "spaghetti code" in a procedural language, </p><p class="calibre_2">object-oriented languages used poorly can add meatballs to your spaghetti. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">4:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Prototypes and Post-it Notes</span></span></a></p><p class="calibre_2">Marketing would like to sit down and brainstorm a few Web-page designs with you. They</p><p class="calibre_2">are thinking of clickable image maps to take you to other pages, and so on. But they can't</p><p class="calibre_2">decide on a model for the image—maybe it's a car, or a phone, or a house. You have a list</p><p class="calibre_2">of target pages and content; they'd like to see a few prototypes. Oh, by the way, you have</p><p class="calibre_2">15 minutes. What tools might you use? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">4:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Low-tech to the rescue! Draw a few cartoons with markers on a whiteboard?a car, a phone, and a</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">house. It doesn't have to be great art; stick-figure outlines are fine. Put Post-it notes that describe</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">the contents of target pages on the clickable areas. As the meeting progresses, you can refine the</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">drawings and placements of the Post-it notes. </span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">5:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Domain Languages</span></span></a></p><p class="calibre_2">We want to implement a mini-language to control a simple drawing package (perhaps a </p><p class="calibre_2">turtle-graphics system). The language consists of single-letter commands. Some </p><p class="calibre_2">commands are followed by a single number. For example, the following input would draw a </p><p class="calibre_2">rectangle. </p><p class="calibre_2">P 2 # <span class="italic">select pen 2</span></p><p class="calibre_2">D # <span class="italic">pen down</span></p><p class="calibre_2">W 2 # <span class="italic">draw west 2cm</span></p><p class="calibre_2">N 1 # <span class="italic">then north 1</span></p><p class="calibre_2">E 2 # <span class="italic">then east 2</span></p><p class="calibre_2">S 1 # <span class="italic">then back south</span></p><p class="calibre_2">U # <span class="italic">pen up</span></p><p class="calibre_2">Implement the code that parses this language. It should be designed so that it is simple to </p><p class="calibre_2">add new commands. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">5:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Because we want to make the language extendable, we'll make the parser table driven. Each entry </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">in the table contains the command letter, a flag to say whether an argument is required, and the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">name of the routine to call to handle that particular command</span></span></a>. </p><p class="calibre_2"><span class="bold">typedef struct</span> {</p><p class="calibre_2"><span class="bold">char</span> cmd; /* <span class="italic">the command letter */</span></p><p class="calibre_2"><span class="bold">int</span> hasArg; /* <span class="italic">does it take an argument */</span></p><p class="calibre_2"><span class="bold">void</span> (*func)(<span class="bold">int, int</span>); /* <span class="italic">routine to call */</span></p><p class="calibre_2">} Command; </p><p class="calibre_2"><span class="bold">static</span> Command cmds[] = {</p><p class="calibre_2">{ 'P', ARG, doSelectPen }, </p><p class="calibre_2">{ 'U', NO_ARG, doPenUp }, </p><p class="calibre_2">{ 'D', NO_ARG, doPenDown }, </p><p class="calibre_2">{ 'N', ARG, doPenDir }, </p><p class="calibre_2">{ 'E', ARG, doPenDir }, </p><p class="calibre_2">{ 'S', ARG, doPenDir }, </p><p class="calibre_2">{ 'W', ARG, doPenDir }</p><p class="calibre_2">}; </p><p class="calibre_2">The main program is pretty simple: read a line, look up the command, get the argument if</p><p class="calibre_2">required, then call the handler function. </p><p class="calibre_2"><span class="bold">while</span> (fgets (buff, <span class="bold">sizeof</span>(buff), stdin)) {</p><p class="calibre_2">Command *cmd = findCommand(*buff); </p><p class="calibre_2"><span class="bold">if</span> (cmd) {</p><p class="calibre_2"><span class="bold">int</span> arg = 0 ; </p><p class="calibre_2"><span class="bold">if</span> (cmd-&gt;hasArg &amp;&amp; !getArg(buff+l, &amp;arg)) {</p><p class="calibre_2">fprintf(stderr, " <span class="italic">'%c' needs an argument\n</span>", *buff); </p><p class="calibre_2"><span class="bold">continue; </span></p><p class="calibre_2">}</p><p class="calibre_2">cmd-&gt;func(*buff, arg); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2">The function that looks up a command performs a linear search of the table, returning either</p><p class="calibre_2">the matching entry or NULL. </p><p class="calibre_2">Command *findCommand(<span class="bold">int</span> cmd) {</p><p class="calibre_2"><span class="bold">int</span> i; </p><p class="calibre_2"><span class="bold">for</span> (i = 0; i &lt; ARRAY_SIZE(cmds); i++) {</p><p class="calibre_2"><span class="bold">if</span> (cmds[i].cmd == cmd)</p><p class="calibre_2"><span class="bold">return</span> cmds + i; </p><p class="calibre_2">}</p><p class="calibre_2">fprintf (stderr, <span class="italic">"Unknown command '%c'\n", </span> cmd); </p><p class="calibre_2"><span class="bold">return</span> 0; </p><p class="calibre_2">}</p><p class="calibre_2">Finally, reading the numeric argument is pretty simple using scanf. </p><p class="calibre_2"><span class="bold">int</span> getArg(<span class="bold">const char</span> *buff, <span class="bold">int</span> *result) {</p><p class="calibre_2"><span class="bold">return</span> sscanf(buff, <span class="italic">"%d", </span> result) == 1; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">6:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Domain Languages</span></span></a></p><p class="calibre_2">Design a BNF grammar to parse a time specification. All of the following examples should </p><p class="calibre_2">be accepted. </p><p class="calibre_2">4pm, 7:38pm, 23:42, 3:16, 3:16am</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">6:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Using BNF, a time specification could be</span></span></a></p><p class="calibre_2"><span class="italic">&lt;time&gt; </span> ::= <span class="italic">&lt;hour&gt; &lt;ampm&gt;|</span></p><p class="calibre_2"><span class="italic">&lt;hour&gt; : &lt;minute&gt; &lt;ompm&gt; |</span></p><p class="calibre_2"><span class="italic">&lt;hour&gt; : &lt;minute&gt; </span></p><p class="calibre_2"><span class="italic">&lt;ampm&gt; </span> ::= <span class="bold">am | pm</span></p><p class="calibre_2"><span class="italic">&lt;hour&gt; </span> ::= <span class="italic">&lt;digit&gt; |</span></p><p class="calibre_2"><span class="italic">&lt;digit&gt; &lt;digit&gt; </span></p><p class="calibre_2"><span class="italic">&lt;minute&gt; </span> ::= <span class="italic">&lt;digit&gt; &lt;digit&gt; </span></p><p class="calibre_2"><span class="italic">&lt;digit&gt; </span> ::= <span class="bold">0|1|2|3|4|5|6|7|8|9</span></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">7:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Domain Languages</span></span></a></p><p class="calibre_2">Implement a parser for the BNF grammar in Exercise 6 using yacc, bison, or a similar </p><p class="calibre_2">parser-generator. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">7:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">We coded our example using bison, the GNU version of yacc. For clarity, we're just showing the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">body of the parser here. Look at the source on our Web site for the full implementation </span></span></a>. </p><p class="calibre_2">time: spec EOF</p><p class="calibre_2">{ <span class="bold">if</span> ($1 &gt;= 24*60) yyerror(" <span class="italic">Time is too large</span>"); </p><p class="calibre_2">printf( <span class="italic">"%d minutes past midnight\n", </span> $1); </p><p class="calibre_2">exit(0); </p><p class="calibre_2">}</p><p class="calibre_2">; </p><p class="calibre_2">spec: hour ':' minute</p><p class="calibre_2">{ $$ = $1 + $3; </p><p class="calibre_2">}</p><p class="calibre_2">| hour ':' minute ampm</p><p class="calibre_2">{ <span class="bold">if</span> ($1 &gt; 11*60) yyerror(" <span class="italic">Hour out of range</span>"); </p><p class="calibre_2">$$ = $1 + $3 + $4; </p><p class="calibre_2">}</p><p class="calibre_2">| hour ampm</p><p class="calibre_2">{ <span class="bold">if</span> ($1 &gt; 11*60) yyerror(" <span class="italic">Hour out of range</span>"); </p><p class="calibre_2">$$ = $1 + $2; </p><p class="calibre_2">}</p><p class="calibre_2">; </p><p class="calibre_2">hour: hour_num</p><p class="calibre_2">{ <span class="bold">if</span> ($1 &gt; 23) yyerror(" <span class="italic">Hour out of range</span>"); </p><p class="calibre_2">$$ = $1 * 60; </p><p class="calibre_2">}; </p><p class="calibre_2">minute: DIGIT DIGIT</p><p class="calibre_2">{ $$ = $1*10 + $2; </p><p class="calibre_2"><span class="bold">if</span> ($$ &gt; 59) yyerror( " <span class="italic">minute out of range</span>"); </p><p class="calibre_2">}; </p><p class="calibre_2">ampm: AM { $$ = AM_MINS; }</p><p class="calibre_2">| PM { $$ = PM_MINS; }</p><p class="calibre_2">; </p><p class="calibre_2">hour_num: DIGIT { $$ = $1; }</p><p class="calibre_2">| DIGIT DIGIT { $$ = $1*10 + $2; }</p><p class="calibre_2">; </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">8:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Domain Languages</span></span></a></p><p class="calibre_2">Implement the time parser using Perl. [ <span class="italic">Hint:</span> Regular expressions make good parsers.]</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">8:</span></p><p class="calibre_2">$_ = <span class="bold">shift; </span></p><p class="calibre_2">/^(\d\d?)(am|pm)$/ &amp;&amp; doTime ($1, 0, $2, 12); </p><p class="calibre_2">/^(\d\d?):(\d\d)(am|pm)$/ &amp;&amp; doTime($l, $2, $3, 12); </p><p class="calibre_2">/^(\d\d?):(\d\d)$/ &amp;&amp; doTime($l, $2, 0, 24); </p><p class="calibre_2"><span class="bold">die</span> " <span class="italic">Invalid time $_\n</span>"; </p><p class="calibre_2">#</p><p class="calibre_2"># <span class="italic">doTime(hour, min, ampm, maxHour)</span></p><p class="calibre_2">#</p><p class="calibre_2"><span class="bold">sub</span> doTime($$$$) {</p><p class="calibre_2"><span class="bold">my</span> ($hour, $min, $offset, $maxHour) = @_; </p><p class="calibre_2"><span class="bold">die</span> " <span class="italic">Invalid hour: $hour</span>" <span class="bold">if</span> ($hour &gt;= $maxHour); </p><p class="calibre_2">$hour += 12 <span class="bold">if</span> ($offset <span class="bold">eq</span> " <span class="italic">pm</span>"); </p><p class="calibre_2"><span class="bold">print</span> $hour*60 + $min, " <span class="italic">minutes past midnight\n"; </span></p><p class="calibre_2"><span class="bold">exit</span>(0); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">9:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Estimating</span></span></a></p><p class="calibre_2">You are asked "Which has a higher bandwidth: a 1Mbps communications line or a person </p><p class="calibre_2">walking between two computers with a full 4GB tape in their pocket?" What constraints will </p><p class="calibre_2">you put on your answer to ensure that the scope of your response is correct? (For example, </p><p class="calibre_2">you might say that the time taken to access the tape is ignored.)</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">9:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Our answer must be couched in several assumptions</span></span></a>:</p><p class="calibre_2">The tape contains the information we need to be transferred. </p><p class="calibre_2">We know the speed at which the person walks. </p><p class="calibre_2">We know the distance between the machines. </p><p class="calibre_2">We are not accounting for the time it takes to transfer information to and from the </p><p class="calibre_2">tape. </p><p class="calibre_2">The overhead of storing data on a tape is roughly equal to the overhead of sending it </p><p class="calibre_2">over a communications line. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">10:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Estimating</span></span></a></p><p class="calibre_2">So, which has the higher bandwidth? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2">9</p><p class="calibre_2"><span class="bold">10:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Subject to the caveats in Answer 9</span></span></a>: A 4GB tape contains 32 × 10 bits, so a 1Mbps line </p><p class="calibre_2">would have to pump data for about 32,000 seconds, or roughly 9 hours, to transfer the </p><p class="calibre_2">equivalent amount of information. If the person is walking at a constant 3½ mph, then our</p><p class="calibre_2">two machines would need to be at least 31 miles apart for the communications line to </p><p class="calibre_2">outperform our courier. Otherwise, the person wins . </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">11:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Text Manipulation</span></span></a></p><p class="calibre_2">Your C program uses an enumerated type to represent one of 100 states. You'd like to be </p><p class="calibre_2">able to print out the state as a string (as opposed to a number) for debugging purposes. </p><p class="calibre_2">Write a script that reads from standard input a file containing</p><p class="calibre_2">name</p><p class="calibre_2">state_a</p><p class="calibre_2">state_b</p><p class="calibre_2"><span class="bold">:</span> :</p><p class="calibre_2">Produce the file <span class="italic">name.h, </span> which contains</p><p class="calibre_2"><span class="bold">extern const char*</span> NAME_names[]; </p><p class="calibre_2"><span class="bold">typedef enum</span> {</p><p class="calibre_2">state_a, </p><p class="calibre_2">state_b, </p><p class="calibre_2">: <span class="bold">:</span></p><p class="calibre_2">} NAME; </p><p class="calibre_2">and the file <span class="italic">name.c, </span> which contains</p><p class="calibre_2"><span class="bold">const char*</span> NAME_names[] = {</p><p class="calibre_2"><span class="italic"> "state_a", </span></p><p class="calibre_2"><span class="italic">"state_b", </span></p><p class="calibre_2">: :</p><p class="calibre_2">}; </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">11:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">We implemented our answer using Perl</span></span></a>. </p><p class="calibre_2"><span class="bold">my</span> @consts; </p><p class="calibre_2"><span class="bold">my $</span>name = &lt;&gt;; </p><p class="calibre_2"><span class="bold">die</span>&#13;
<span class="italic">"Invalid format - missing name" </span>&#13;
<span class="bold">unless defined</span>($name); </p><p class="calibre_2"><span class="bold">chomp</span> Sname; </p><p class="calibre_2"><span class="italic"># Read in the rest of the file</span></p><p class="calibre_2"><span class="bold">while</span> (&lt;&gt;) {</p><p class="calibre_2"><span class="bold">chomp; </span></p><p class="calibre_2"><span class="bold">s</span>/^\<span class="bold">s</span>*//; <span class="bold">s</span>/\<span class="bold">s</span>*$//; </p><p class="calibre_2"><span class="bold">die</span>&#13;
<span class="italic">"Invalid line:</span> $ <span class="italic">_" </span>&#13;
<span class="bold">unless</span> /^(\w+)$/; </p><p class="calibre_2"><span class="bold">push @</span>consts, $_; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="italic"># Now generate the file</span></p><p class="calibre_2"><span class="bold">open</span>(HDR, <span class="italic">"&gt; </span>$ <span class="italic">name.h")</span>&#13;
<span class="bold">or die</span>&#13;
<span class="italic">"Can't open $name.h: $</span>!"; </p><p class="calibre_2"><span class="bold">open</span>(SRC, <span class="italic">"&gt;$name.c")</span>&#13;
<span class="bold">or die</span>&#13;
<span class="italic">"Can't open $name. c: $</span>! "; </p><p class="calibre_2"><span class="bold">my</span> $uc_name = uc($name); </p><p class="calibre_2"><span class="bold">my</span> $array_name = $uc_name . "_names"; </p><p class="calibre_2"><span class="bold">print</span> HDR "/* file <span class="italic">generated automatically - do not edit */\n"; </span></p><p class="calibre_2"><span class="bold">print</span> HDR "extern const <span class="italic">char *$</span> { <span class="italic">uc_name</span>} <span class="italic">_name[];"; </span></p><p class="calibre_2"><span class="bold">print</span> HDR <span class="italic">"typedef enum {\n "; </span></p><p class="calibre_2"><span class="bold">print</span> HDR <span class="bold">join</span> ",\n ", @consts; </p><p class="calibre_2"><span class="bold">print</span> HDR <span class="italic">"\n</span>} <span class="italic"> $uc_name;\n\n"; </span></p><p class="calibre_2"><span class="bold">print</span> SRC "/* <span class="italic">File generated automatically - do not edit */\n"; </span></p><p class="calibre_2"><span class="bold">print</span> SRC "const <span class="italic">char *$</span> { <span class="italic">uc_name</span>} <span class="italic">_name[] =</span> { <span class="italic">\n</span> \""; </p><p class="calibre_2"><span class="bold">print</span> SRC <span class="bold">join</span> "\",\n \"", @consts; </p><p class="calibre_2"><span class="bold">print</span> SRC "\"\n};\n" ; </p><p class="calibre_2"><span class="bold">close</span>(SRC); </p><p class="calibre_2"><span class="bold">close</span>(HDR); </p><p class="calibre_2">Using the <span class="italic">DRY</span> principle, we won't cut and paste this new file into our code. Instead, we'll </p><p class="calibre_2">#include it—the flat file is the master source of these constants. This means that we'll need</p><p class="calibre_2">a makefile to regenerate the header when the file changes. The following extract is from the</p><p class="calibre_2">test bed in our source tree (available on the Web site). </p><p class="calibre_2">etest.c etest.h: etest.inc enumerated.pl</p><p class="calibre_2">perl enumerated.pl etest.inc</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">12:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Text Manipulation</span></span></a></p><p class="calibre_2">Halfway through writing this book, we realized that we hadn't put the use strict directive into </p><p class="calibre_2">many of our Perl examples. Write a script that goes through the .pl files in a directory and </p><p class="calibre_2">adds a use strict at the end of the initial comment block to all files that don't already have </p><p class="calibre_2">one. Remember to keep a backup of all files you change. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">12:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Here's our answer, written in Perl</span></span></a>. </p><p class="calibre_2"><span class="bold">my</span> $dir = <span class="bold">shift or die</span>&#13;
<span class="italic">"Missing directory"; </span></p><p class="calibre_2"><span class="bold">for my</span> $file (<span class="bold">glob</span>( <span class="italic">"$dir/*.pl</span>")) {</p><p class="calibre_2"><span class="bold">open</span>(IP, <span class="italic">"$file" </span>) <span class="bold">or die</span>&#13;
<span class="italic">"Opening $file: $</span>! "; </p><p class="calibre_2"><span class="bold">undef</span> $/; <span class="italic"># Turn off input record separator --</span></p><p class="calibre_2"><span class="bold">my</span> $content = &lt;IP&gt;; <span class="italic"># read whole file as one string. </span></p><p class="calibre_2"><span class="bold">close</span>(IP); </p><p class="calibre_2"><span class="bold">if</span> ($content !~ /^<span class="bold">use</span> strict/<span class="bold">m</span>) {</p><p class="calibre_2"><span class="bold">rename</span> $file, <span class="italic">"$file.bak" </span>&#13;
<span class="bold">or die</span>&#13;
<span class="italic">"Renaming $file: $</span>!"; </p><p class="calibre_2"><span class="bold">open</span>(OP, <span class="italic">"&gt;$file" </span>) <span class="bold">or die</span>&#13;
<span class="italic">"Creating $file: $</span>! "; </p><p class="calibre_2"><span class="italic"># Put 'use strict' on first line that</span></p><p class="calibre_2"><span class="italic"># doesn't start '#' </span></p><p class="calibre_2">$content =~ <span class="bold">s</span>/^(?! <span class="italic">#)/\nuse strict;\n\n/m; </span></p><p class="calibre_2"><span class="bold">print</span> OP $content; </p><p class="calibre_2"><span class="bold">close</span>(OP); </p><p class="calibre_2"><span class="bold">print</span>&#13;
<span class="italic">"Updated $file\n"; </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">else {</span></p><p class="calibre_2"><span class="bold">print</span>&#13;
<span class="italic">"$file already strict\n"; </span></p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">13:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Code Generators</span></span></a></p><p class="calibre_2">Write a code generator that takes the input file in <a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Figure 3.4, and generates output in two </span></span></a></p><p class="calibre_2">languages of your choice. Try to make it easy to add new languages. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">13:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">We use Perl to implement our solution. It dynamically loads a module to generate the requested</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">language, so adding new languages is easy. The main routine loads the back end (based on a</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">command-line parameter), then reads its input and calls code generation routines based on the</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">content of each line. We're not particularly fussy about error handling?we'll get to know pretty</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">quickly if things go wrong. </span></span></a></p><p class="calibre_2"><span class="bold">my</span> $lang = <span class="bold">shift or die</span>&#13;
<span class="italic">"Missing language"; </span></p><p class="calibre_2">$lang .= <span class="italic">"_cg.pm"; </span></p><p class="calibre_2"><span class="bold">require</span>&#13;
<span class="italic">"$lang" </span>&#13;
<span class="bold">or die</span> " <span class="italic">Couldn't load $lang"; </span></p><p class="calibre_2"><span class="italic"># Read and parse the file</span></p><p class="calibre_2"><span class="bold">my</span> $name; </p><p class="calibre_2"><span class="bold">while</span> (&lt;&gt;) {</p><p class="calibre_2"><span class="bold">chomp; </span></p><p class="calibre_2"><span class="bold">if</span> (/^\<span class="bold">s</span>*S/) { CG::blankLine(); }</p><p class="calibre_2"><span class="bold">elsif</span> (/^\#(.*)/) { CG:: <span class="italic">comment($1); }</span></p><p class="calibre_2"><span class="bold">elsif</span> (/^M\<span class="bold">s</span>*(.+)/) { CG::startMsg($l); $name = $1; }</p><p class="calibre_2"><span class="bold">elsif</span> c/^E/) { CG::endMsg($name); }</p><p class="calibre_2"><span class="bold">elsif</span> (/^F\<span class="bold">s</span>*(\w+)$/)</p><p class="calibre_2">{ CG::simpleType($l,$2); }</p><p class="calibre_2"><span class="bold">elsif</span> (/^F\<span class="bold">s</span>*(\w+)\<span class="bold">s</span>+(\w+)\[(\d+)\]$/)</p><p class="calibre_2">{ CG::arrayType($l,$2,$3); }</p><p class="calibre_2"><span class="bold">else</span> {</p><p class="calibre_2"><span class="bold">die</span>&#13;
<span class="italic">"Invalid line: $_"; </span></p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2">Writing a language back end is simple: provide a module that implements the required six</p><p class="calibre_2">entry points. Here's the C generator:</p><p class="calibre_2"># <span class="italic">!/usr/bin/perl -w</span></p><p class="calibre_2"><span class="bold">package</span> CG; </p><p class="calibre_2"><span class="bold">use</span> strict; </p><p class="calibre_2"># <span class="italic">Code generator for 'C' (see cg_base.pl)</span></p><p class="calibre_2"><span class="bold">sub</span> blankLine() { <span class="bold">print</span>&#13;
<span class="italic">"\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> comment() { <span class="bold">print</span>&#13;
<span class="italic">"/*$_[0] */\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> startMsg() { <span class="bold">print</span>&#13;
<span class="italic">"typedef struct {\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> endMsg() { <span class="bold">print</span>&#13;
<span class="italic">" </span>} <span class="italic"> $_[0];\n\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> arrayType() {</p><p class="calibre_2"><span class="bold">my</span> ($name, $type, $size) = @_; </p><p class="calibre_2"><span class="bold">print</span> " <span class="italic">$type $name\</span>[ <span class="italic">$size</span>] <span class="italic">;\n"; </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">sub</span> simpleType() {</p><p class="calibre_2"><span class="bold">my</span> ($name, $type) = @_; </p><p class="calibre_2"><span class="bold">print</span> " <span class="italic">$type $name;\n"; </span></p><p class="calibre_2">}</p><p class="calibre_2">1; </p><p class="calibre_2">And here's the one for Pascal:</p><p class="calibre_2">#! <span class="italic">/usr/bin/perl -w</span></p><p class="calibre_2"><span class="bold">package</span> CG; </p><p class="calibre_2"><span class="bold">use</span> strict; </p><p class="calibre_2"><span class="italic"># Code generator for 'Pascal' (see cg_base.pl)</span></p><p class="calibre_2"><span class="bold">sub</span> blankLine() { <span class="bold">print</span>&#13;
<span class="italic">"\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> comment() { <span class="bold">print</span>&#13;
<span class="italic">" </span>{ <span class="italic">$_</span>[ <span class="italic">0</span>] <span class="italic">}\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> startMsg() { <span class="bold">print</span>&#13;
<span class="italic">"$_[0] = packed record\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> endMsg() { <span class="bold">print</span>&#13;
<span class="italic">"end;\n\n"; </span> }</p><p class="calibre_2"><span class="bold">sub</span> arrayType() {</p><p class="calibre_2">my ($name, $type, $size) = @_; </p><p class="calibre_2">$size--; </p><p class="calibre_2"><span class="bold">print</span> " <span class="italic">$name: array</span>[ <span class="italic">0..$size] of $type;\n"; </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">sub</span> simpleType() {</p><p class="calibre_2"><span class="bold">my</span> ($name, $type) = @_; </p><p class="calibre_2"><span class="bold">print</span> " <span class="italic">$name: $type;\n"; </span></p><p class="calibre_2">}</p><p class="calibre_2">1; </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">14:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Design by Contract</span></span></a></p><p class="calibre_2">What makes a good contract? Anyone can add preconditions and postconditions, but will </p><p class="calibre_2">they do you any good? Worse yet, will they actually do more harm than good? For the </p><p class="calibre_2">example below and for those in Exercises 15 and 16, decide whether the specified contract </p><p class="calibre_2">is good, bad, or ugly, and explain why. </p><p class="calibre_2">First, let's look at an Eiffel example. Here we have a routine for adding a STRING to a </p><p class="calibre_2">doubly linked, circular list (remember that preconditions are labeled with require, and </p><p class="calibre_2">postconditions with ensure). </p><p class="calibre_2">-- <span class="italic">Add an item to a doubly linked list, </span></p><p class="calibre_2">-- <span class="italic">and return the newly created NODE. </span></p><p class="calibre_2">add_item (item : STRING) : NODE <span class="bold">is</span></p><p class="calibre_2"><span class="bold">require</span></p><p class="calibre_2">item /= Void -- <span class="italic">'/=' is 'not equal'. </span></p><p class="calibre_2">find_item(item) = Void -- <span class="italic">Must be unique</span></p><p class="calibre_2"><span class="bold">deferred </span> -- <span class="italic">Abstract base class. </span></p><p class="calibre_2"><span class="bold">ensure</span></p><p class="calibre_2">result.next.previous = result -- <span class="italic">Cheek the newly</span></p><p class="calibre_2">result.previous.next = result -- <span class="italic">added node's links. </span></p><p class="calibre_2">find_item(item) = result -- <span class="italic">Should find it. </span></p><p class="calibre_2"><span class="bold">end</span></p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">14:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">This Eiffel example is </span></span><span class="italic"><span class="calibre_5"><span class="underline">good. </span></span></span><span class="calibre_5"><span class="underline"> We require non-null data to be passed in, and we guarantee that the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">semantics of a circular, doubly linked list are honored. It also helps to be able to find the string we </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">stored. Because this is a deferred class, the actual class that implements it is free to use whatever </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">underlying mechanism it wants to. It may choose to use pointers, or an array, or whatever; as long </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">as it honors the contract, we don't care</span></span></a> . </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">15:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Design by Contract</span></span></a></p><p class="calibre_2">Next, let's try an example in Java—somewhat similar to the example in Exercise 14. </p><p class="calibre_2">insertNumber inserts an integer into an ordered list. Pre- and postconditions are labeled as </p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">in iContract (see [URL 17]). </span></span></a></p><p class="calibre_2"><span class="bold">private int</span> data[]; </p><p class="calibre_2">/**</p><p class="calibre_2">* <span class="italic">@post data[index-l] &lt; data[index] &amp;&amp; </span></p><p class="calibre_2"><span class="italic">* data[index] == aValue</span></p><p class="calibre_2"><span class="italic">*/</span></p><p class="calibre_2"><span class="bold">public</span> Node insertNumber <span class="bold">(final int</span> aValue)</p><p class="calibre_2">{</p><p class="calibre_2"><span class="bold">int</span> index = findPlaceToInsert(aValue); </p><p class="calibre_2"><span class="bold">... </span></p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">15:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">This is </span></span><span class="italic"><span class="calibre_5"><span class="underline">bad. </span></span></span><span class="calibre_5"><span class="underline"> The math in the index clause (</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">index-1) won't work on boundary conditions such as the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">first entry</span></span></a> . </p><p class="calibre_2">The postcondition assumes a particular implementation: we want contracts to be more</p><p class="calibre_2">abstract than that. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">16:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Design by Contract</span></span></a></p><p class="calibre_2">Here's a fragment from a stack class in Java. Is this a good contract? </p><p class="calibre_2">/**</p><p class="calibre_2"><span class="italic">* @pre anItem != null // Require real data</span></p><p class="calibre_2"><span class="italic">* @post pop() == anItem // Verify that it's</span></p><p class="calibre_2"><span class="italic">*</span>&#13;
<span class="italic">// on the stack</span></p><p class="calibre_2"><span class="italic">*/</span></p><p class="calibre_2"><span class="bold">public void</span> push(<span class="bold">final</span> String anItem)</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">16:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">It's a good contract, but a bad implementation. Here, the infamous "Heisenbug" [URL 52</span></span></a><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">] rears its </span></span></a></p><p class="calibre_2"><span class="italic">ugly</span> head. The programmer probably just made a simple typo—pop instead of top. While </p><p class="calibre_2">this is a simple and contrived example, side effects in assertions (or in any unexpected </p><p class="calibre_2">place in the code) can be very difficult to diagnose . </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">17:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Design by Contract</span></span></a></p><p class="calibre_2">The classic examples of DEC (as in Exercises 14–16) show an implementation of an ADT</p><p class="calibre_2">(Abstract Data Type)—typically a stack or queue. But not many people really write these</p><p class="calibre_2">kinds of low-level classes. </p><p class="calibre_2">So, for this exercise, design an interface to a kitchen blender. It will eventually be a </p><p class="calibre_2">Web-based, Internet-enabled, CORBA-fled blender, but for now we just need the interface </p><p class="calibre_2">to control it. It has ten speed settings (0 means off). You can't operate it empty, and you can </p><p class="calibre_2">change the speed only one unit at a time (that is, from 0 to 1, and from 1 to 2, not from 0 to </p><p class="calibre_2">2). </p><p class="calibre_2">Here are the methods. Add appropriate pre- and postconditions and an invariant. </p><p class="calibre_2"><span class="bold">int</span> getSpeed()</p><p class="calibre_2"><span class="bold">void</span> setSpeed(<span class="bold">int</span> x)</p><p class="calibre_2"><span class="bold">boolean</span> isFull()</p><p class="calibre_2"><span class="bold">void</span> fill()</p><p class="calibre_2"><span class="bold">void</span> empty()</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">17:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">We'll show the function signatures in Java, with the pre- and postconditions labeled as in iContract. </span></span></a></p><p class="calibre_2">First, the invariant for the class:</p><p class="calibre_2">/**</p><p class="calibre_2"><span class="italic">* @invariant getSpeed() &gt; 0</span></p><p class="calibre_2"><span class="italic">*</span>&#13;
<span class="italic">implies isFull() // Don't run empty</span></p><p class="calibre_2"><span class="italic">* @invariant getSpeed() &gt;= 0 &amp;&amp; </span></p><p class="calibre_2"><span class="italic">*</span>&#13;
<span class="italic">getSpeed() &lt; 10 // Range check</span></p><p class="calibre_2"><span class="italic">*/</span></p><p class="calibre_2">Next, the pre- and postconditions:</p><p class="calibre_2">/**</p><p class="calibre_2"><span class="italic">* @pre Math.abs(getSpeed() - x) &lt;= 1 // Only change by one</span></p><p class="calibre_2"><span class="italic">* @pre x &gt;= 0 &amp;&amp; x &lt; 10</span>&#13;
<span class="italic">// Range check</span></p><p class="calibre_2"><span class="italic">* @post getSpeed() == x</span>&#13;
<span class="italic">// Honor requested speed</span></p><p class="calibre_2"><span class="italic">*/</span></p><p class="calibre_2"><span class="bold">public void</span> setSpeed(<span class="bold">final int</span> x)</p><p class="calibre_2">/**</p><p class="calibre_2">* <span class="italic">@pre !isFull</span>() <span class="italic">// Don't fill it twice</span></p><p class="calibre_2"><span class="italic">* @post isFull</span>() <span class="italic">// Ensure it was done</span></p><p class="calibre_2"><span class="italic">*/</span></p><p class="calibre_2"><span class="bold">void</span> fill()</p><p class="calibre_2">/**</p><p class="calibre_2">* <span class="italic">@pre isFull</span>() <span class="italic">// Don't empty it twice</span></p><p class="calibre_2"><span class="italic">* @post</span> ! <span class="italic">isFull()</span>&#13;
<span class="italic">// Ensure it was done</span></p><p class="calibre_2">*/</p><p class="calibre_2"><span class="bold">void</span> empty()</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">18:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Design by Contract</span></span></a></p><p class="calibre_2">How many numbers are in the series 0,5,10,15,…, 100? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">18:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">There are 21 terms in the series. If you said 20, you just experienced a fencepost error</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">. </span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">19:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Assertive Programming</span></span></a></p><p class="calibre_2">A quick reality check. Which of these "impossible" things can happen? </p><p class="calibre_2">1. A month with fewer than 28 days</p><p class="calibre_2">2. stat("." ,&amp;sb) == -1 (that is, can't access the current directory)</p><p class="calibre_2">3. In C++: a=2;b=3; <span class="bold">if</span> (a+b!=5) exit(l); </p><p class="calibre_2">4. A triangle with an interior angle sum ? 180°</p><p class="calibre_2">5. A minute that doesn't have 60 seconds</p><p class="calibre_2">6. In Java: (a + 1) &lt;= a</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">19:</span></p><p class="calibre_2">1. September, 1752 had only 19 days. This was done to synchronize calendars as part </p><p class="calibre_2">of the Gregorian Reformation. </p><p class="calibre_2">2. The directory could have been removed by another process, you might not have</p><p class="calibre_2">permission to read it, &amp;sb might be invalid—you get the picture. </p><p class="calibre_2">3. We sneakily didn't specify the types of a and b. Operator overloading might have </p><p class="calibre_2">defined +, =, or ! = to have unexpected behavior. Also, a and b may be aliases for </p><p class="calibre_2">the same variable, so the second assignment will overwrite the value stored in the </p><p class="calibre_2">first. </p><p class="calibre_2">4. In non-Euclidean geometry, the sum of the angles of a triangle will not add up to</p><p class="calibre_2">180°. Think of a triangle mapped on the surface of a sphere. </p><p class="calibre_2">5. Leap minutes may have 61 or 62 seconds. </p><p class="calibre_2">6. Overflow may leave the result of a + 1 negative (this can also happen in C and C++). </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">20:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Assertive Programming</span></span></a></p><p class="calibre_2">Develop a simple assertion checking class for Java. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">20:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">We chose to implement a very simple class with a single static method, TEST, that prints a </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">message and a stack trace if the passed condition parameter is false </span></span></a>. </p><p class="calibre_2"><span class="bold">package</span> com.pragprog.util; </p><p class="calibre_2"><span class="bold">import</span> java.lang.System; <span class="italic">// for exit()</span></p><p class="calibre_2"><span class="bold">import</span> java.lang.Thread; <span class="italic">// for dumpStack</span>()</p><p class="calibre_2"><span class="bold">public class</span> Assert {</p><p class="calibre_2"><span class="italic">/** Write a message, print a stack trace and exit if</span></p><p class="calibre_2"><span class="italic">* our parameter is false. </span></p><p class="calibre_2"><span class="italic">*/</span></p><p class="calibre_2"><span class="bold">public static void</span> TEST(<span class="bold">boolean</span> condition) {</p><p class="calibre_2"><span class="bold">if</span> (!condition) {</p><p class="calibre_2">System.out.println(" <span class="italic">==== Assertion Failed ====</span>"); </p><p class="calibre_2">Thread.dumpStack(); </p><p class="calibre_2">System.exit(l); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="italic">// Testbed. If our argument is 'okay', try an assertion that</span></p><p class="calibre_2"><span class="italic">// succeeds, if 'fail' try one that fails</span></p><p class="calibre_2"><span class="bold">public static final void</span> main(String args[]) {</p><p class="calibre_2"><span class="bold">if</span> (args[0].compareTo(" <span class="italic">okay</span>") == 0) {</p><p class="calibre_2">TEST(1 == 1); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">else if</span> (args[0].compareTo(" <span class="italic">fail</span>") == 0) {</p><p class="calibre_2">TEST(1 == 2); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">else</span> {</p><p class="calibre_2">throw <span class="bold">new</span> RuntimeExceptionC <span class="italic">"Bad argument" </span>); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">21:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">When to Use Exceptions</span></span></a></p><p class="calibre_2">While designing a new container class, you identify the following possible error conditions:</p><p class="calibre_2">1. No memory available for a new element in the add routine</p><p class="calibre_2">2. Requested entry not found in the fetch routine</p><p class="calibre_2">3. null pointer passed to the add routine</p><p class="calibre_2">How should each be handled? Should an error be generated, should an exception be </p><p class="calibre_2">raised, or should the condition be ignored? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">21:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Running out of memory is an exceptional condition, so we feel that case (1) should raise an </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">exception</span></span></a>. </p><p class="calibre_2">Failure to find an entry is probably quite a normal occurrence. The application that calls our</p><p class="calibre_2">collection class may well write code that checks to see if an entry is present before adding </p><p class="calibre_2">a potential duplicate. We feel that case (2) should just return an error. </p><p class="calibre_2">Case (3) is more problematic—if the value null is significant to the application, then it may </p><p class="calibre_2">be justifiably added to the container. If, however, it makes no sense to store null values, an</p><p class="calibre_2">exception should probably be thrown. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">22:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">How to Balance Resources</span></span></a></p><p class="calibre_2">Some C and C++ developers make a point of setting a pointer to NULL after they deallocate </p><p class="calibre_2">the memory it references. Why is this a good idea? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">22:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">In most C and C++ implementations, there is no way of checking that a pointer actually points to </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">valid memory. A common mistake is to deallocate a block of memory and reference that memory </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">later in the program. By then, the memory pointed to may well have been reallocated to some </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">other purpose. By setting the pointer to NULL, the programmers hope to prevent these rogue</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">references?in most cases, dereferencing a NULL pointer will generate a runtime error . </span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">23:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">How to Balance Resources</span></span></a></p><p class="calibre_2">Some Java developers make a point of setting an object variable to NULL after they have </p><p class="calibre_2">finished using the object. Why is this a good idea? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">23:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">By setting the reference to NULL, you reduce the number of pointers to the referenced object by </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">one. Once this count reaches zero, the object is eligible for garbage collection. Setting the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">references to NULL can be significant for long-running programs, where the programmers need to </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">ensure that memory utilization doesn't increase over time . </span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">24:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Decoupling and the Law of Demeter</span></span></a></p><p class="calibre_2">We discussed the concept of physical decoupling in the box . Which of the following C++ </p><p class="calibre_2">header files is more tightly coupled to the rest of the system? </p><p class="calibre_2"><span class="italic"><span class="bold">person1.h:</span></span></p><p class="calibre_2"><span class="italic"><span class="bold">person2.h:</span></span></p><p class="calibre_2"><span class="bold">#include</span></p><p class="calibre_2"><span class="bold">class</span> Date; </p><p class="calibre_2"><span class="italic">"date.h" </span></p><p class="calibre_2"><span class="bold">class</span> Person2 {</p><p class="calibre_2"><span class="bold">class</span> Personl {</p><p class="calibre_2"><span class="bold">private:</span></p><p class="calibre_2"><span class="bold">private:</span></p><p class="calibre_2">Date *myBirthdate; </p><p class="calibre_2">Date myBirthdate; </p><p class="calibre_2"><span class="bold">public:</span></p><p class="calibre_2"><span class="bold">public:</span></p><p class="calibre_2">Person2(Date &amp;birthDate); </p><p class="calibre_2">Person1(Date &amp;birthDate); </p><p class="calibre_2">//... </p><p class="calibre_2">//... </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">24:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">A header file is supposed to define the interface between the corresponding implementation and </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">the rest of the world. The header file itself has no need to know about the internals of the Date</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">class?it merely needs to tell the compiler that the constructor takes a Date as a parameter. So, </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">unless the header file uses Dates in inline functions, the second snippet will work fine</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline"> . </span></span></a></p><p class="calibre_2">What's wrong with the first snippet? On a small project, nothing, except that you are</p><p class="calibre_2">unnecessarily making everything that uses a Personl class also include the header file for </p><p class="calibre_2">Date. Once this kind of usage gets common in a project, you soon find that including one</p><p class="calibre_2">header file ends up including most of the rest of the system—a serious drag on compilation</p><p class="calibre_2">times. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">25:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Decoupling and the Law of Demeter</span></span></a></p><p class="calibre_2">For the example below and for those in Exercises 26 and 27, determine if the method calls </p><p class="calibre_2">shown are allowed according to the Law of Demeter. This first one is in Java. </p><p class="calibre_2"><span class="bold">public void</span> showBalance(BankAccount acct) {</p><p class="calibre_2">Money amt = acct. getBalance() ; </p><p class="calibre_2">printToScreen(amt .printFormat()) ; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">25:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The variable acct is passed in as a parameter, so the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">getBalance call is allowed. Calling </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">amt.printFormat(), however, is not. We don't "own" amt and it wasn't passed to us. We could </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">eliminate showBalance's coupling to Money with something like this </span></span></a>:</p><p class="calibre_2"><span class="bold">void</span> showBalance(BankAccount b) {</p><p class="calibre_2">b.printBalance(); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">26:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Decoupling and the Law of Demeter</span></span></a></p><p class="calibre_2">This example is also in Java. </p><p class="calibre_2"><span class="bold">public class</span> Colada {</p><p class="calibre_2"><span class="bold">private</span> Blender myBlender; </p><p class="calibre_2"><span class="bold">private</span> Vector myStuff; </p><p class="calibre_2"><span class="bold">public</span> Colada() {</p><p class="calibre_2">myBlender = <span class="bold">new</span> Blender(); </p><p class="calibre_2">myStuff = <span class="bold">new</span> Vector() ; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">private void</span> doSomething() {</p><p class="calibre_2">myBlender.addlngredients(myStuff.elements()); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">26:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Since Colada creates and owns both myBlender and myStuff, the calls to addIngredients and </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">elements are allowed . </span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">27:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Decoupling and the Law of Demeter</span></span></a></p><p class="calibre_2">This example is in C++. </p><p class="calibre_2"><span class="bold">void</span> processTransaction(BankAccount acct, <span class="bold">int</span>) {</p><p class="calibre_2">Person *who; </p><p class="calibre_2">Money amt; </p><p class="calibre_2">amt.setValue(123.45); </p><p class="calibre_2">acct.setBalance(amt); </p><p class="calibre_2">who = acct .getOwner() ; </p><p class="calibre_2">markWorkflow(who-&gt;name(), SET_BALANCE); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">27:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">In this case, processTransaction owns amt?it is created on the stack, acct is passed in, so both </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">setValue and setBalance are allowed. But processTransaction does not own who, so the call </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">who-&gt;name() is in violation. The Law of Demeter suggests replacing this line with</span></span></a></p><p class="calibre_2">markWorkflow(acct.name(), SET_BALANCE); </p><p class="calibre_2">The code in processTransaction should not have to know which subobject within a </p><p class="calibre_2">BankAccount holds the name—this structural knowledge should not show through</p><p class="calibre_2">BankAccount's contract. Instead, we ask the BankAccount for the name on the account. It </p><p class="calibre_2">knows where it keeps the name (maybe in a Person, in a Business, or in a polymorphic </p><p class="calibre_2">Customer object). </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">28:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Metaprogramming</span></span></a></p><p class="calibre_2">Which of the following things would be better represented as code within a program, and </p><p class="calibre_2">which externally as metadata? </p><p class="calibre_2">1. Communication port assignments</p><p class="calibre_2">2. An editor's support for highlighting the syntax of various languages</p><p class="calibre_2">3. An editor's support for different graphic devices</p><p class="calibre_2">4. A state machine for a parser or scanner</p><p class="calibre_2">5. Sample values and results for use in unit testing</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">28:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">There are no definitive answers here?the questions were intended primarily to give you food for</span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">thought. However, this is what we think</span></span></a>:</p><p class="calibre_2">1. <span class="bold">Communication port assignments. </span> Clearly, this information should be stored as</p><p class="calibre_2">metadata. But to what level of detail? Some Windows communications programs let </p><p class="calibre_2">you select only baud rate and port (say COM1 to COM4). But perhaps you need to </p><p class="calibre_2">specify word size, parity, stop bits, and the duplex setting as well. Try to allow the </p><p class="calibre_2">finest level of detail where practical. </p><p class="calibre_2">2. <span class="bold">An editor's support for highlighting the syntax of various languages. </span> This</p><p class="calibre_2">should be implemented as metadata. You wouldn't want to have to hack code just </p><p class="calibre_2">because the latest version of Java introduced a new keyword. </p><p class="calibre_2">3. <span class="bold">An editor's support for different graphic devices. </span> This would probably be</p><p class="calibre_2">difficult to implement strictly as metadata. You would not want to burden your </p><p class="calibre_2">application with multiple device drivers only to select one at runtime. You could, </p><p class="calibre_2">however, use metadata to specify the name of the driver and dynamically load the </p><p class="calibre_2">code. This is another good argument for keeping the metadata in a human-readable </p><p class="calibre_2">format; if you use the program to set up a dysfunctional video driver, you may not be </p><p class="calibre_2">able to use the program to set it back. </p><p class="calibre_2">4. </p><p class="calibre_2"><span class="bold">A state machine for a parser or scanner. </span> This depends on what you are parsing</p><p class="calibre_2">or scanning. If you are parsing some data that is rigidly defined by a standards body </p><p class="calibre_2">and is unlikely to change without an act of Congress, then hard coding it is fine. But </p><p class="calibre_2">if you are faced with a more volatile situation, it may be beneficial to define the state </p><p class="calibre_2">tables externally. </p><p class="calibre_2">5. <span class="bold">Sample values and results for use in unit testing. </span> Most applications define these</p><p class="calibre_2">values inline in the testing harness, but you can get better flexibility by moving the</p><p class="calibre_2">test data—and the definition of the acceptable results—out of the code itself. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">29:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">It's Just a View</span></span></a></p><p class="calibre_2">Suppose you have an airline reservation system that includes the concept of a flight:</p><p class="calibre_2"><span class="bold">public interface</span> Flight {</p><p class="calibre_2"><span class="italic">// .Return false if flight full. </span></p><p class="calibre_2"><span class="bold">public boolean</span> addPassenger(Passenger p); </p><p class="calibre_2"><span class="bold">public void</span> addToWaitList(Passenger p); </p><p class="calibre_2"><span class="bold">public int</span> getFlightCapacity(); </p><p class="calibre_2"><span class="bold">public int</span> getNumPassengers(); </p><p class="calibre_2">}</p><p class="calibre_2">If you add a passenger to the wait list, they'll be put on the flight automatically when an </p><p class="calibre_2">opening becomes available. </p><p class="calibre_2">There's a massive reporting job that goes through looking for overbooked or full flights to </p><p class="calibre_2">suggest when additional flights might be scheduled. It works fine, but it takes hours to run. </p><p class="calibre_2">We'd like to have a little more flexibility in processing wait-list passengers, and we've got to</p><p class="calibre_2">do something about that big report—it takes too long to run. Use the ideas from this section</p><p class="calibre_2">to redesign this interface. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">29:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">We'll take Flight and add some additional methods for maintaining two lists of listeners: one for </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">wait-list notification, and the other for full-flight notification . </span></span></a></p><p class="calibre_2"><span class="bold">public interface</span> Passenger {</p><p class="calibre_2"><span class="bold">public void</span> waitListAvailable(); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public interface</span> Flight {</p><p class="calibre_2"><span class="bold">... </span></p><p class="calibre_2"><span class="bold">public void</span> addWaitListListener(Passenger p); </p><p class="calibre_2"><span class="bold">public void</span> removeWaitListListener(Passenger p); </p><p class="calibre_2"><span class="bold">public void</span> addFullListener(FullListener b); </p><p class="calibre_2"><span class="bold">public void</span> removeFullListener(FullListener b); </p><p class="calibre_2"><span class="bold">... </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public interface</span> BigReport <span class="bold">extends</span> FullListener {</p><p class="calibre_2"><span class="bold">public void</span> FlightFullAlert(Flight f); </p><p class="calibre_2">}</p><p class="calibre_2">If we try to add a Passenger and fail because the flight is full, we can, optionally, put the </p><p class="calibre_2">Passenger on the wait list. When a spot opens up, waitList-Available will be called. This </p><p class="calibre_2">method can then choose to add the Passenger automatically, or have a service </p><p class="calibre_2">representative call the customer to ask if they are still interested, or whatever. We now have</p><p class="calibre_2">the flexibility to perform different behaviors on a per-customer basis. </p><p class="calibre_2">Next, we want to avoid having the BigReport troll through tons of records looking for full </p><p class="calibre_2">flights. By having BigReport registered as a listener on Flights, each individual Flight can</p><p class="calibre_2">report when it is full—or nearly full, if we want. Now users can get live, up-to-the-minute</p><p class="calibre_2">reports from BigReport instantly, without waiting hours for it to run as it did previously. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">30:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Blackboards</span></span></a></p><p class="calibre_2">For each of the following applications, would a blackboard system be appropriate or not? </p><p class="calibre_2">Why? </p><p class="calibre_2">1. <span class="bold">Image processing. </span> You'd like to have a number of parallel processes grab chunks</p><p class="calibre_2">of an image, process them, and put the completed chunk back. </p><p class="calibre_2">2. <span class="bold">Group calendaring. </span> You've got people scattered across the globe, in different time</p><p class="calibre_2">zones, and speaking different languages, trying to schedule a meeting. </p><p class="calibre_2">3. <span class="bold">Network monitoring tool. </span> The system gathers performance statistics and collects</p><p class="calibre_2">trouble reports. You'd like to implement some agents to use this information to look </p><p class="calibre_2">for trouble in the system. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">30:</span></p><p class="calibre_2">1. <span class="bold">Image processing. </span> For simple scheduling of a workload among the parallel</p><p class="calibre_2">processes, a shared work queue may be more than adequate. You might want to</p><p class="calibre_2">consider a blackboard system if there is feedback involved—that is, if the results of</p><p class="calibre_2">one processed chunk affect other chunks, as in machine vision applications, or</p><p class="calibre_2">complex 3D image-warp transforms. </p><p class="calibre_2">2. <span class="bold">Group calendaring. </span> This might be a good fit. You can post scheduled meetings</p><p class="calibre_2">and availability to the blackboard. You have entities functioning autonomously, </p><p class="calibre_2">feedback from decisions is important, and participants may come and go. </p><p class="calibre_2">You might want to consider partitioning this kind of blackboard system depending on</p><p class="calibre_2">who is searching: junior staff may care about only the immediate office, human </p><p class="calibre_2">resources may want only English-speaking offices worldwide, and the CEO may </p><p class="calibre_2">want the whole enchilada. There is also some flexibility on data formats: we are free </p><p class="calibre_2">to ignore formats or languages we don't understand. We have to understand </p><p class="calibre_2">different formats only for those offices that have meetings with each other, and we </p><p class="calibre_2">do not need to expose all participants to a full transitive closure of all possible </p><p class="calibre_2">formats. This reduces coupling to where it is necessary, and does not constrain us </p><p class="calibre_2">artificially. </p><p class="calibre_2">3. <span class="bold">Network monitoring tool. </span> This is very similar to the mortgage/loan application</p><p class="calibre_2">program described. You've got trouble reports sent in by users and statistics </p><p class="calibre_2">reported automatically, all posting to the blackboard. A human or software agent can</p><p class="calibre_2">analyze the blackboard to diagnose network failures: two errors on a line might just </p><p class="calibre_2">be cosmic rays, but 20,000 errors and you've got a hardware problem. Just as the </p><p class="calibre_2">detectives solve the murder mystery, you can have multiple entities analyzing and </p><p class="calibre_2">contributing ideas to solve the network problems. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">31:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Programming by Coincidence</span></span></a></p><p class="calibre_2">Can you identify some coincidences in the following C code fragment? Assume that this </p><p class="calibre_2">code is buried deep in a library routine. </p><p class="calibre_2">fprintf (stderr, <span class="italic">"Error, continue?" </span>); </p><p class="calibre_2">gets(buf); </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">31:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">There are several potential problems with this code. First, it assumes a tty environment. That may </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">be fine if the assumption is true, but what if this code is called from a GUI environment where </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">neither stderr nor stdin is open ? </span></span></a></p><p class="calibre_2">Second, there is the problematic gets, which will write as many characters as it receives </p><p class="calibre_2">into the buffer passed in. Malicious users have used this failing to create <span class="italic">buffer overrun</span></p><p class="calibre_2">security holes in many different systems. Never use gets(). </p><p class="calibre_2">Third, the code assumes the user understands English. </p><p class="calibre_2">Finally, no one in their right mind would ever bury user interaction such as this in a library</p><p class="calibre_2">routine. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">32:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Programming by Coincidence</span></span></a></p><p class="calibre_2">This piece of C code might work some of the time, on some machines. Then again, it might </p><p class="calibre_2">not. What's wrong? </p><p class="calibre_2">/* <span class="italic">Truncate string to its last maxlen chars */</span></p><p class="calibre_2"><span class="bold">void</span> string_tail(<span class="bold">char</span> *string, <span class="bold">int</span> maxlen) {</p><p class="calibre_2"><span class="bold">int</span> len = strlen(string); </p><p class="calibre_2"><span class="bold">if</span> (len &gt; maxlen) {</p><p class="calibre_2">strcpy(string, string + (len - maxlen)); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">32:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">POSIX strcpy isn't guaranteed to work for overlapping strings. It might happen to work on some </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">architectures, but only by coincidence . </span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">33:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Programming by Coincidence</span></span></a></p><p class="calibre_2">This code comes from a general-purpose Java tracing suite. The function writes a string to a </p><p class="calibre_2">log file. It passes its unit test, but fails when one of the Web developers uses it. What </p><p class="calibre_2">coincidence does it rely on? </p><p class="calibre_2"><span class="bold">public static void</span> debug(String s) <span class="bold">throws</span> IOException {</p><p class="calibre_2">FileWriter fw = <span class="bold">new</span> FileWriter( <span class="italic">"debug.log", </span>&#13;
<span class="bold">true</span>); </p><p class="calibre_2">fw.write(s); </p><p class="calibre_2">fw.flush() ; </p><p class="calibre_2">fw.close() ; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">33:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">It won't work in an applet context with security restrictions against writing to the local disk. Again, </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">when you have a choice of running in GUI contexts or not, you may want to check dynamically to </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">see what the current environment is like. In this case, you may want to put a log file somewhere </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">other than the local disk if it isn't accessible. </span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">34:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Algorithm Speed</span></span></a></p><p class="calibre_2">We have coded a set of simple sort routines, which can be downloaded from our Web site </p><p class="calibre_2">(<a href="http://www.pragmaticprogrammer.com/default.htm"><span class="calibre_5"><span class="underline">http://www.pragmaticprogrammer.com). Run them on various machines available to you. Do </span></span></a></p><p class="calibre_2">your figures follow the expected curves? What can you deduce about the relative speeds of </p><p class="calibre_2">your machines? What are the effects of various compiler optimization settings? Is the radix </p><p class="calibre_2">sort indeed linear? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">34:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Clearly, we can't give any absolute answers to this exercise. However, we can give you a couple of </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">pointers. </span></span></a></p><p class="calibre_2">If you find that your results don't follow a smooth curve, you might want to check to see if</p><p class="calibre_2">some other activity is using some of your processor's power. You probably won't get good </p><p class="calibre_2">figures on a multiuser system, and even if you are the only user you may find that </p><p class="calibre_2">background processes periodically take cycles away from your programs. You might also </p><p class="calibre_2">want to check memory: if the application starts using swap space, performance will nose </p><p class="calibre_2">dive. </p><p class="calibre_2">It is interesting to experiment with different compilers and different optimization settings. We</p><p class="calibre_2">found some that pretty startling speed-ups were possible by enabling aggressive </p><p class="calibre_2">optimization. We also found that on the wider RISC architectures the manufacturer's </p><p class="calibre_2">compilers often outperformed the more portable GCC. Presumably, the manufacturer is </p><p class="calibre_2">privy to the secrets of efficient code generation on these machines. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">35:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Algorithm Speed</span></span></a></p><p class="calibre_2">The routine below prints out the contents of a binary tree. Assuming the tree is balanced, </p><p class="calibre_2">roughly how much stack space will the routine use while printing a tree of 1,000,000 </p><p class="calibre_2">elements? (Assume that subroutine calls impose no significant stack overhead.)</p><p class="calibre_2"><span class="bold">void</span> printTree(<span class="bold">const</span> Node *node) {</p><p class="calibre_2"><span class="bold">char</span> buffer[1000]; </p><p class="calibre_2"><span class="bold">if</span> (node) {</p><p class="calibre_2">printTree(node-&gt;left); </p><p class="calibre_2">getNodeAsString(node, buffer); </p><p class="calibre_2">puts(buffer); </p><p class="calibre_2">printTree(node-&gt;right); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">35:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The printTree routine uses about 1,000 bytes of stack space for the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">buffer variable. It calls itself </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">recursively to descend through the tree, and each nested call adds another 1,000 bytes to the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">stack. It also calls itself when it gets to the leaf nodes, but exits immediately when it discovers that </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">the pointer passed in is NULL. If the depth of the tree is </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="italic"><span class="calibre_5"><span class="underline">D, </span></span></span><span class="calibre_5"><span class="underline"> the maximum stack requirement is </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">therefore roughly 1000 x </span></span><span class="italic"><span class="calibre_5"><span class="underline">(D +</span></span></span><span class="calibre_5"><span class="underline"> 1) . </span></span></a></p><p class="calibre_2">A balanced binary tree holds twice as many elements at each level. A tree of depth D holds</p><p class="calibre_2"><span class="italic">D</span>–1)</p><p class="calibre_2"><span class="italic">D</span>–</p><p class="calibre_2">1 + 2+4+8 + … + 2</p><p class="calibre_2">, or 2</p><p class="calibre_2">1, elements. Our million-element tree will therefore need | </p><p class="calibre_2">lg(l,000,001) |, or 20 levels. </p><p class="calibre_2">We'd therefore expect our routine to use roughly 21,000 bytes of stack. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">36:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Algorithm Speed</span></span></a></p><p class="calibre_2">Can you see any way to reduce the stack requirements of the routine in Exercise 35 (apart </p><p class="calibre_2">from reducing the size of the buffer)? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">36:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">A couple of optimizations come to mind. First, the printTree routine calls itself on leaf nodes, only </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">to exit because there are no children. That call increases the maximum stack depth by about 1,000 </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">bytes. We can also eliminate the tail recursion (the second recursive call), although this won't affect </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">the worst-case stack usage . </span></span></a></p><p class="calibre_2"><span class="bold">while</span> (node) {</p><p class="calibre_2"><span class="bold">if</span> (node-&gt;left) printTree(node-&gt;left); </p><p class="calibre_2">getNodeAsString(node, buffer); </p><p class="calibre_2">puts(buffer); </p><p class="calibre_2">node = node-&gt;right; </p><p class="calibre_2">}</p><p class="calibre_2">The biggest gain, however, comes from allocating just a single buffer, shared by all</p><p class="calibre_2">invocations of printTree. Pass this buffer as a parameter to the recursive calls, and only </p><p class="calibre_2">1,000 bytes will be allocated, regardless of the depth of recursion. </p><p class="calibre_2"><span class="bold">void</span> printTreePrivate(<span class="bold">const</span> Node *node, <span class="bold">char</span> *buffer) {</p><p class="calibre_2"><span class="bold">if</span> (node) {</p><p class="calibre_2">printTreePrivate(node-&gt;left, buffer); </p><p class="calibre_2">getNodeAsString(node, buffer); </p><p class="calibre_2">puts(buffer); </p><p class="calibre_2">printTreePrivate(node-&gt;right, buffer); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">void</span> newPrintTree(const Node *node) {</p><p class="calibre_2"><span class="bold">char</span> buffer[1000]; </p><p class="calibre_2">printTreePrivate(node, buffer); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">37:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Algorithm Speed</span></span></a></p><p class="calibre_2">On page 180, we claimed that a binary chop is <span class="italic">O</span>( <span class="italic">lg</span>( <span class="italic">n</span>)) <span class="italic">. </span> Can you prove this? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">37:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">There are a couple of ways of getting there. One is to turn the problem on its head. If the array has </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">just one element, we don't iterate around the loop. Each additional iteration doubles the size of the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="italic"><span class="calibre_5"><span class="underline">m</span></span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">array we can search. The general formula for the array size is therefore </span></span><span class="italic"><span class="calibre_5"><span class="underline">n</span></span></span><span class="calibre_5"><span class="underline"> = 2 </span></span><span class="italic"><span class="calibre_5"><span class="underline">, </span></span></span><span class="calibre_5"><span class="underline"> where </span></span><span class="italic"><span class="calibre_5"><span class="underline">m</span></span></span><span class="calibre_5"><span class="underline"> is the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="italic"><span class="calibre_5"><span class="underline">m</span></span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">number of iterations. If you take logs to the base 2 of each side, you get lg( </span></span><span class="italic"><span class="calibre_5"><span class="underline">n</span></span></span><span class="calibre_5"><span class="underline">) = lg(2 ), which by the </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">definition of logs becomes lg( </span></span><span class="italic"><span class="calibre_5"><span class="underline">n</span></span></span><span class="calibre_5"><span class="underline">) = </span></span><span class="italic"><span class="calibre_5"><span class="underline">m. </span></span></span></a></p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">38:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Refactoring</span></span></a></p><p class="calibre_2">The following code has obviously been updated several times over the years, but the </p><p class="calibre_2">changes haven't improved its structure. Refactor it. </p><p class="calibre_2"><span class="bold">if</span> (state == TEXAS) {</p><p class="calibre_2">rate = TX_RATE; </p><p class="calibre_2">amt = base * TX_RATE; </p><p class="calibre_2">calc = 2*basis(amt) + extra(amt)*1.05; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">else if</span> ((state == OHIO) || (state == MAINE)) {</p><p class="calibre_2">rate = (state == OHIO) ? OH_RATE : MN_RATE; </p><p class="calibre_2">amt = base * rate; </p><p class="calibre_2">calc = 2*basis(amt) + extra(amt)*1.05; </p><p class="calibre_2"><span class="bold">if</span> (state == OHIO)</p><p class="calibre_2">points = 2; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">else</span> {</p><p class="calibre_2">rate = 1; </p><p class="calibre_2">amt = base; </p><p class="calibre_2">calc = 2*basis(amt) + extra(amt)*1.05; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">38:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">We might suggest a fairly mild restructuring here: make sure that every test is performed just once, </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">and make all the calculations common. If the expression 2*basis(. . . ) * 1.05 appears in other </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">places in the program, we should probably make it a function. We haven't bothered here</span></span></a> . </p><p class="calibre_2">We've added a rate_lookup array, initialized so that entries other than Texas, Ohio, and </p><p class="calibre_2">Maine have a value of 1. This approach makes it easy to add values for other states in the </p><p class="calibre_2">future. Depending on the expected usage pattern, we might want to make the points field </p><p class="calibre_2">an array lookup as well. </p><p class="calibre_2">rate = rate_lookup[state]; </p><p class="calibre_2">amt = base * rate; </p><p class="calibre_2">calc = 2*basis(amt) + extra(amt)*1.05; </p><p class="calibre_2"><span class="bold">if</span> (state == OHIO)</p><p class="calibre_2">points = 2; </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">39:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Refactoring</span></span></a></p><p class="calibre_2">The following Java class needs to support a few more shapes. Refactor the class to prepare </p><p class="calibre_2">it for the additions. </p><p class="calibre_2"><span class="bold">public class</span> Shape {</p><p class="calibre_2"><span class="bold">public static final int</span> SQUARE = 1; </p><p class="calibre_2"><span class="bold">public static final int</span> CIRCLE = 2; </p><p class="calibre_2"><span class="bold">public static final int</span> RIGHT_TRIANGLE = 3; </p><p class="calibre_2"><span class="bold">private int</span> shapeType; </p><p class="calibre_2"><span class="bold">private double</span> size; </p><p class="calibre_2"><span class="bold">public</span> Shape(<span class="bold">int</span> shapeType, <span class="bold">double</span> size) {</p><p class="calibre_2"><span class="bold">this. </span>shapeType = shapeType; </p><p class="calibre_2"><span class="bold">this. </span>size = size; </p><p class="calibre_2">}</p><p class="calibre_2">// ... <span class="italic">other methods</span> ... </p><p class="calibre_2"><span class="bold">public double</span> area() {</p><p class="calibre_2"><span class="bold">switch</span> (shapeType) {</p><p class="calibre_2"><span class="bold">case</span> SQUARE: <span class="bold">return</span> size*size; </p><p class="calibre_2"><span class="bold">case</span> CIRCLE: <span class="bold">return</span> Math.PI*size*size/4.0; </p><p class="calibre_2"><span class="bold">case</span> RIGHT_TRIANGLE: <span class="bold">return</span> size*size/2.0; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">return</span> 0; </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">39:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">When you see someone using enumerated types (or their equivalent in Java) to distinguish </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">between variants of a type, you can often improve the code by subclassing:</span></span></a></p><p class="calibre_2"><span class="bold">public class</span> Shape {</p><p class="calibre_2"><span class="bold">private double</span> size; </p><p class="calibre_2"><span class="bold">public</span> Shape(<span class="bold">double</span> size) {</p><p class="calibre_2"><span class="bold">this. </span>size = size; </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public double</span> getSize() { <span class="bold">return</span> size; }</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public class</span> Square <span class="bold">extends</span> Shape {</p><p class="calibre_2"><span class="bold">public</span> Square(<span class="bold">double</span> size) {</p><p class="calibre_2"><span class="bold">super</span>(size); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public double</span> area() {</p><p class="calibre_2"><span class="bold">double</span> size = getSize() ; </p><p class="calibre_2"><span class="bold">return</span> size*size; </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public class</span> Circle <span class="bold">extends</span> Shape {</p><p class="calibre_2"><span class="bold">public</span> Circle(<span class="bold">double</span> size) {</p><p class="calibre_2"><span class="bold">super(size); </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public double</span> area() {</p><p class="calibre_2"><span class="bold">double</span> size = getSize(); </p><p class="calibre_2"><span class="bold">return</span> Math.PI*size*size/4.0; </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2">// <span class="italic">etc. </span>.. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">40:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Refactoring</span></span></a></p><p class="calibre_2">This Java code is part of a framework that will be used throughout your project. Refactor it </p><p class="calibre_2">to be more general and easier to extend in the future. </p><p class="calibre_2"><span class="bold">public class</span> Window {</p><p class="calibre_2"><span class="bold">public</span> Window(<span class="bold">int</span> width, <span class="bold">int</span> height) { ... }</p><p class="calibre_2"><span class="bold">public void</span> setSize(<span class="bold">int</span> width, <span class="bold">int</span> height) { ... }</p><p class="calibre_2"><span class="bold">public boolean</span> overlaps(Window w) { ... }</p><p class="calibre_2"><span class="bold">public int</span> getArea() { . . . }</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">40:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">This case is interesting. At first sight, it seems reasonable that a window should have a width and a </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">height. However, consider the future. Let's imagine that we want to support arbitrarily shaped </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">windows (which will be difficult if the Window class knows all about rectangles and their properties)</span></span></a></p><p class="calibre_2">. </p><p class="calibre_2">We'd suggest abstracting the shape of the window out of the Window class itself. </p><p class="calibre_2"><span class="bold">public abstract class</span> Shape {</p><p class="calibre_2">// ... </p><p class="calibre_2"><span class="bold">public abstract boolean</span> overlaps(Shape s); </p><p class="calibre_2"><span class="bold">public abstract int</span> getArea(); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public class</span> Window {</p><p class="calibre_2"><span class="bold">private</span> Shape shape; </p><p class="calibre_2"><span class="bold">public</span> Window(Shape shape) {</p><p class="calibre_2"><span class="bold">this. </span>shape = shape; </p><p class="calibre_2"><span class="bold">... </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public void</span> setShape(Shape shape) {</p><p class="calibre_2"><span class="bold">this. </span>shape = shape; </p><p class="calibre_2"><span class="bold">... </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public boolean</span> overlaps(Window w) {</p><p class="calibre_2"><span class="bold">return</span> shape.overlaps(w.shape); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">public int</span> getArea() {</p><p class="calibre_2"><span class="bold">return</span> shape.getArea(); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2">Note that in this approach we've used delegation rather than subclassing: a window is not a</p><p class="calibre_2">"kind-of'' shape—a window "has-a" shape. It uses a shape to do its job. You'll often find</p><p class="calibre_2">delegation useful when refactoring. </p><p class="calibre_2">We could also have extended this example by introducing a Java interface that specified</p><p class="calibre_2">the methods a class must support to support the shape functions. This is a good idea. It </p><p class="calibre_2">means that when you extend the concept of a shape, the compiler will warn you about </p><p class="calibre_2">classes that you have affected. We recommend using interfaces this way when you </p><p class="calibre_2">delegate all the functions of some other class. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">41:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">Code That's Easy to Test</span></span></a></p><p class="calibre_2">Design a test jig for the blender interface described in the answer to Exercise 17. Write a </p><p class="calibre_2">shell script that will perform a regression test for the blender. You need to test basic </p><p class="calibre_2">functionality, error and boundary conditions, and any contractual obligations. What </p><p class="calibre_2">restrictions are placed on changing the speed? Are they being honored? </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">41:</span></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">First, we'll add a main to act </span></span><span class="italic"><span class="calibre_5"><span class="underline">as a</span></span></span><span class="calibre_5"><span class="underline"> unit test driver. It will accept a very small, simple language as an </span></span></a></p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">argument: "E" to empty the blender, "F" to fill it, digits 0-9 to set the speed, and so on . </span></span></a></p><p class="calibre_2"><span class="bold">public static void</span> main(String args[]) {</p><p class="calibre_2">// <span class="italic">Create the blender to test</span></p><p class="calibre_2">dbc_ex blender = <span class="bold">new</span> dbc_ex(); </p><p class="calibre_2">// <span class="italic">And test it according to the string on standard input</span></p><p class="calibre_2"><span class="bold">try</span> {</p><p class="calibre_2"><span class="bold">int</span> a; </p><p class="calibre_2"><span class="bold">char</span> c; </p><p class="calibre_2"><span class="bold">while</span> ((a = System.in.read()) != -1) {</p><p class="calibre_2">c = (<span class="bold">char</span>)a; </p><p class="calibre_2"><span class="bold">if</span> (Character.isWhitespace(c)) {</p><p class="calibre_2"><span class="bold">continue; </span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">if</span> (Character.isDigit(c)) {</p><p class="calibre_2">blender.setSpeed(Character.digit(c, 10)); </p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">else</span> {</p><p class="calibre_2"><span class="bold">switch</span> (c) {</p><p class="calibre_2"><span class="bold">case</span> 'F': blender.fill(); </p><p class="calibre_2"><span class="bold">break; </span></p><p class="calibre_2"><span class="bold">case</span> 'E': blender.empty(); </p><p class="calibre_2"><span class="bold">break; </span></p><p class="calibre_2"><span class="bold">case</span> 's': System.out.println( <span class="italic">"SPEED: " </span> +</p><p class="calibre_2">blender.getSpeed()); </p><p class="calibre_2"><span class="bold">break; </span></p><p class="calibre_2"><span class="bold">case</span> 'f': System out.println( <span class="italic">"FULL " </span> +</p><p class="calibre_2">blender. isFull()); </p><p class="calibre_2"><span class="bold">break; </span></p><p class="calibre_2">default: throw <span class="bold">new</span> RuntimeException(</p><p class="calibre_2"><span class="italic">"Unknown Test directive" </span>); </p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">catch</span> (java.io.IOException e) {</p><p class="calibre_2">System.err.println( <span class="italic">"Test jig failed: " </span> + e.getMessage()); </p><p class="calibre_2">}</p><p class="calibre_2">System.err .println( <span class="italic">"Completed blending</span>\n"); </p><p class="calibre_2">System.exit(0); </p><p class="calibre_2">}</p><p class="calibre_2">Next comes the shell script to drive the tests. </p><p class="calibre_2"><span class="italic">#!/bin/sh</span></p><p class="calibre_2">CMD= <span class="italic">"java dbc.dbc_ex" </span></p><p class="calibre_2">failcount=0</p><p class="calibre_2">expect_okay() {</p><p class="calibre_2"><span class="bold">if</span> echo "$*" | $CMD <span class="italic">#&gt;/dev/null 2&gt;&amp;1</span></p><p class="calibre_2"><span class="bold">then</span></p><p class="calibre_2"><span class="bold">:</span></p><p class="calibre_2"><span class="bold">else</span></p><p class="calibre_2">echo <span class="italic">"FAILED! $*" </span></p><p class="calibre_2">failcount='expr $failcount + 1' </p><p class="calibre_2"><span class="bold">fi</span></p><p class="calibre_2">}</p><p class="calibre_2">expect_fail() {</p><p class="calibre_2"><span class="bold">if</span> echo <span class="italic">"$*" </span> | $CMD &gt;/dev/null 2&gt;&amp;1</p><p class="calibre_2"><span class="bold">then</span></p><p class="calibre_2">echo <span class="italic">"FAILED! (Should have failed): $*" </span></p><p class="calibre_2">failcount='expr $failcount + 1' </p><p class="calibre_2"><span class="bold">fi</span></p><p class="calibre_2">}</p><p class="calibre_2"><span class="bold">report() {</span></p><p class="calibre_2"><span class="bold">if</span> [ $failcount -gt 0 ]</p><p class="calibre_2"><span class="bold">then</span></p><p class="calibre_2">echo -e "\n\n*** <span class="italic">FAILED $failcount TESTS\n" </span></p><p class="calibre_2"><span class="bold">exit</span> 1 <span class="italic"># In case we are part of something larger</span></p><p class="calibre_2"><span class="bold">else</span></p><p class="calibre_2"><span class="bold">exit</span> 0 <span class="italic"># In case we are part of something larger</span></p><p class="calibre_2"><span class="bold">fi</span></p><p class="calibre_2">}</p><p class="calibre_2">#</p><p class="calibre_2"><span class="italic"># Start the tests</span></p><p class="calibre_2">#</p><p class="calibre_2">expect_okay F123456789876543210E # <span class="italic">Should run thru</span></p><p class="calibre_2">expect_fail F5 <span class="italic"># Fails, speed too high</span></p><p class="calibre_2">expect_fail1 <span class="italic"># Fails, empty</span></p><p class="calibre_2">expect_fail F10E1 <span class="italic"># Fails, empty</span></p><p class="calibre_2">expect_fail F1238 <span class="italic"># Fails, skips</span></p><p class="calibre_2">expect_okay FE <span class="italic"># Never turn on</span></p><p class="calibre_2">expect_fail F1E <span class="italic"># Emptying while running</span></p><p class="calibre_2">expect_okay F10E <span class="italic">Should be ok</span></p><p class="calibre_2">report <span class="italic"># Report results</span></p><p class="calibre_2">The tests check to see if illegal speed changes are detected, if you try to empty the blender</p><p class="calibre_2">while running, and so on. We put this in the makefile so we can compile and run the </p><p class="calibre_2">regression test by simply typing</p><p class="calibre_2">% make</p><p class="calibre_2">% make <span class="bold">test</span></p><p class="calibre_2">Note that we have the test exit with 0 or 1 so we can use this as part of a larger test as well. </p><p class="calibre_2">There was nothing in the requirements that spoke of driving this component via a script, or</p><p class="calibre_2">even using a language. End users will never see it. But we have a powerful tool that we can</p><p class="calibre_2">use to test our code, quickly and exhaustively. </p><p class="calibre_2"><span class="bold">Exercise </span></p><p class="calibre_2"><span class="bold">42:</span></p><p class="calibre_2"><span class="italic">from</span>&#13;
<a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">The Requirements Pit</span></span></a></p><p class="calibre_2">Which of the following are probably genuine requirements? Restate those that are not to </p><p class="calibre_2">make them more useful (if possible). </p><p class="calibre_2">1. The response time must be less than 500 ms. </p><p class="calibre_2">2. Dialog boxes will have a gray background. </p><p class="calibre_2">3. The application will be organized as a number of front-end processes and a back-end </p><p class="calibre_2">server. </p><p class="calibre_2">4. If a user enters non-numeric characters in a numeric field, the system will beep and </p><p class="calibre_2">not accept them. </p><p class="calibre_2">5. The application code and data must fit within 256kB. </p><p class="calibre_2"><span class="bold">Answer </span></p><p class="calibre_2"><span class="bold">42:</span></p><p class="calibre_2">1. This statement sounds like a real requirement: there may be constraints placed on the </p><p class="calibre_2">application by its environment. </p><p class="calibre_2">2. Even though this may be a corporate standard, it isn't a requirement. It would be better </p><p class="calibre_2">stated as "The dialog background must be configurable by the end user. As shipped, </p><p class="calibre_2">the color will be gray." Even better would be the broader statement "All visual </p><p class="calibre_2">elements of the application (colors, fonts, and languages) must be configurable by the </p><p class="calibre_2">end user." </p><p class="calibre_2">3. This statement is not a requirement, it's architecture. When faced with something like </p><p class="calibre_2">this, you have to dig deep to find out what the user is thinking. </p><p class="calibre_2">4. The underlying requirement is probably something closer to "The system will prevent </p><p class="calibre_2">the user from making invalid entries in fields, and will warn the user when these </p><p class="calibre_2">entries are made." </p><p class="calibre_2"><img class="calibre_39" src="images/00059.jpg"/></p><p class="calibre_2"><img class="calibre_37" src="images/00307.jpg"/></p><p class="calibre_2"><img class="calibre_38" src="images/00011.jpg"/></p><p class="calibre_2">5. This statement is probably a hard requirement. </p><p class="calibre_2">I l@ve RuBoard</p><p class="calibre_2"><a href="index_split_000.html#filepos109"><span class="calibre_5"><span class="underline">&#13;
</span></span></a></p><p class="calibre_2"/><div class="mbp_pagebreak" id="calibre_pb_0"/>&#13;
</body>
</html>
